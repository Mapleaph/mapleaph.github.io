<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://yoursite.com">
  <title>DreamLand</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="DreamLand">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="DreamLand">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DreamLand">
  
    <link rel="alternative" href="/atom.xml" title="DreamLand" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" type="text/css" href="/./main.2d7529.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

</head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="/assets/pic.jpg" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/">Michael Wu</a></h1>
		</hgroup>
		
		<p class="header-subtitle">希望のあるところには必ず試練があるものだから</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/tags/随笔/">随笔</a></li>
	        
				<li><a href="/archives">所有文章</a></li>
	        
				<li><a href="/categories/Encyclopedia">杂七杂八</a></li>
	        
				<li><a href="/categories/Techniques">技术</a></li>
	        
				<li><a href="/instagram">相册</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于我</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/mapleaph" title="github"><i class="icon-github"></i></a>
		        
					<a class="weibo" target="_blank" href="http://weibo.com/mapleaph" title="weibo"><i class="icon-weibo"></i></a>
		        
					<a class="mail" target="_blank" href="mailto:mapleaph@gmail.com" title="mail"><i class="icon-mail"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="/assets/pic.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">Michael Wu</h1>
			</hgroup>
			
			<p class="header-subtitle"><i class="icon icon-quo-left"></i>希望のあるところには必ず試練があるものだから<i class="icon icon-quo-right"></i></p>
			
			
			
				
			
				
			
				
			
				
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/mapleaph" title="github"><i class="icon-github"></i></a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/mapleaph" title="weibo"><i class="icon-weibo"></i></a>
			        
						<a class="mail" target="_blank" href="mailto:mapleaph@gmail.com" title="mail"><i class="icon-mail"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 70%">
				
				
					<li style="width: 16.666666666666668%"><a href="/">主页</a></li>
		        
					<li style="width: 16.666666666666668%"><a href="/tags/随笔/">随笔</a></li>
		        
					<li style="width: 16.666666666666668%"><a href="/archives">所有文章</a></li>
		        
					<li style="width: 16.666666666666668%"><a href="/categories/Encyclopedia">杂七杂八</a></li>
		        
					<li style="width: 16.666666666666668%"><a href="/categories/Techniques">技术</a></li>
		        
					<li style="width: 16.666666666666668%"><a href="/instagram">相册</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-Numeral-System" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/22/Numeral-System/">二进制乘数词头</a>
    </h1>
  

        
        <a href="/2015/11/22/Numeral-System/" class="archive-article-date">
  	<time datetime="2015-11-22T03:04:54.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2015-11-22</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="不同进制对比"><a href="#不同进制对比" class="headerlink" title="不同进制对比"></a>不同进制对比</h3><table>
<thead>
<tr>
<th>名称</th>
<th>符号</th>
<th>二进制</th>
<th>十六进制</th>
<th>十进制</th>
</tr>
</thead>
<tbody>
<tr>
<td>kibi</td>
<td>Ki</td>
<td>2^10</td>
<td>0x400</td>
<td>>10^3</td>
</tr>
<tr>
<td>mebi</td>
<td>Mi</td>
<td>2^20</td>
<td>0x10 0000</td>
<td>>10^6</td>
</tr>
<tr>
<td>gibi</td>
<td>Gi</td>
<td>2^30</td>
<td>0x4000 0000</td>
<td>>10^9</td>
</tr>
<tr>
<td>tebi</td>
<td>Ti</td>
<td>2^40</td>
<td>0x100 0000 0000</td>
<td>>10^12</td>
</tr>
<tr>
<td>pebi</td>
<td>Pi</td>
<td>2^50</td>
<td>0x4 0000 0000 0000</td>
<td>>10^15</td>
</tr>
<tr>
<td>exbi</td>
<td>Ei</td>
<td>2^60</td>
<td>0x1000 0000 0000 0000</td>
<td>>10^18</td>
</tr>
<tr>
<td>zebi</td>
<td>Zi</td>
<td>2^70</td>
<td>0x40 0000 0000 0000 0000</td>
<td>>10^21</td>
</tr>
<tr>
<td>yobi</td>
<td>Yi</td>
<td>2^80</td>
<td>0x1 0000 0000 0000 0000 0000</td>
<td>>10^24</td>
</tr>
</tbody>
</table>
<h3 id="二进制与十进制次头误差率对比"><a href="#二进制与十进制次头误差率对比" class="headerlink" title="二进制与十进制次头误差率对比"></a>二进制与十进制次头误差率对比</h3><table>
<thead>
<tr>
<th>名称</th>
<th>Bin/Dec</th>
<th>Dec/Bin</th>
<th>举例</th>
<th>百分比</th>
</tr>
</thead>
<tbody>
<tr>
<td>kilobyte : kibibyte</td>
<td>1.024</td>
<td>0.976</td>
<td>100 kB ≈ 97.6 KiB</td>
<td>+2.4% 或 -2.3%</td>
</tr>
<tr>
<td>megabyte : mebibyte</td>
<td>1.049</td>
<td>0.954</td>
<td>100 MB ≈ 95.4 MiB</td>
<td>+4.9% 或 -4.6%</td>
</tr>
<tr>
<td>gigabyte : gibibyte</td>
<td>1.074</td>
<td>0.931</td>
<td>100 GB ≈ 93.1 GiB</td>
<td>+7.4% 或 -6.9%</td>
</tr>
<tr>
<td>terabyte : tebibyte</td>
<td>1.100</td>
<td>0.909</td>
<td>100 TB ≈ 90.9 TiB</td>
<td>+10% 或 -9.1%</td>
</tr>
<tr>
<td>petabyte : pebibyte</td>
<td>1.126</td>
<td>0.888</td>
<td>100 PB ≈ 88.8 PiB</td>
<td>+12.6% 或 -11.2%</td>
</tr>
<tr>
<td>exabyte : exbibyte</td>
<td>1.153</td>
<td>0.867</td>
<td>100 EB ≈ 86.7 EiB</td>
<td>+15.3% 或 -13.3%</td>
</tr>
<tr>
<td>zettabyte : zebibyte</td>
<td>1.181</td>
<td>0.847</td>
<td>100 ZB ≈ 84.7 ZiB</td>
<td>+18.1% 或 -15.3%</td>
</tr>
<tr>
<td>yottabyte : yobibyte</td>
<td>1.209</td>
<td>0.827</td>
<td>100 YB ≈ 82.7 YiB</td>
<td>+20.9% 或 -17.3%</td>
</tr>
</tbody>
</table>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Encyclopedia/" class="article-tag-list-link color3">Encyclopedia</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2015/11/22/Numeral-System/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-Max-File-Size-of-Common-File-Systems" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/22/Max-File-Size-of-Common-File-Systems/">常用文件系统可支持的最大单文件大小</a>
    </h1>
  

        
        <a href="/2015/11/22/Max-File-Size-of-Common-File-Systems/" class="archive-article-date">
  	<time datetime="2015-11-22T03:01:50.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2015-11-22</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <table>
<thead>
<tr>
<th>类型</th>
<th>单文件大小上限</th>
</tr>
</thead>
<tbody>
<tr>
<td>EXT4</td>
<td>16 TiB</td>
</tr>
<tr>
<td>NTFS</td>
<td>16 TiB minus 64 KiB</td>
</tr>
<tr>
<td>FAT32</td>
<td>4 GiB minus 1 B</td>
</tr>
<tr>
<td>ExFAT</td>
<td>64 ZiB</td>
</tr>
</tbody>
</table>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Encyclopedia/" class="article-tag-list-link color3">Encyclopedia</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2015/11/22/Max-File-Size-of-Common-File-Systems/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-System-Performance-Test" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/22/System-Performance-Test/">跨平台计算机性能测试套件</a>
    </h1>
  

        
        <a href="/2015/11/22/System-Performance-Test/" class="archive-article-date">
  	<time datetime="2015-11-22T02:52:13.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2015-11-22</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="CPU-性能测试-UPDATE"><a href="#CPU-性能测试-UPDATE" class="headerlink" title="CPU 性能测试 [UPDATE]"></a>CPU 性能测试 [UPDATE]</h2><p>Stress + htop</p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Phoronix Test Suite 是一款跨平台（Linux/Mac/Windows）的计算机性能测试软件，测试种类共分为五大类：</p>
<ul>
<li><p>System</p>
</li>
<li><p>Memory</p>
</li>
<li><p>Processor</p>
</li>
<li><p>Graphics</p>
</li>
<li><p>Disk</p>
</li>
</ul>
<p>以上每一个分类里面都有若干个工具，我们是用某个分类里的某个工具来对相关性能进行测试的，下面列出每个分类里面的工具：</p>
<h3 id="System"><a href="#System" class="headerlink" title="System"></a>System</h3><p>hint, idle, juliagpu, mandelbulbgpu, mandelgpu, nexuiz-iqc, pgbench, pybench, smallpt-gpu, sunflow, xplane9-iqc</p>
<h3 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h3><p>Stream</p>
<h3 id="Processor"><a href="#Processor" class="headerlink" title="Processor"></a>Processor</h3><p>blake2, bork, botan, build-apache, build-php, bullet, byte, c-ray, clomp, compress-7zip, compress-gzip, dcraw, ffmpeg, fhourstones, graphics-magick, himeno, java-scimark2, jgfxbat, john-the-ripper, mafft, mencoder, minion, mrbayes, openssl, polybench-c, primesieve, sample-program, scimark2, stockfish, sudokut, tachyon, tscp</p>
<h3 id="Graphics"><a href="#Graphics" class="headerlink" title="Graphics"></a>Graphics</h3><p>apitest, corebench, j2dbench, nexuiz, openarena, qvdpautest, unvanquished, urbanterror, xonotic, xplane9</p>
<h3 id="Disk"><a href="#Disk" class="headerlink" title="Disk"></a>Disk</h3><p>blogbench, compilebench, postmark, tiobench, unpack-linux</p>
<p>注：这个列表不是很全，没有列出的就是不能用的。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>将下载好的安装包，现在直接从 phoronix-test-suite-packages 里面提取即可，放到 /path/to/phoronix-dir/download-cache 目录下，然后运行下面的命令进行安装，</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ phoronix-test-suite install pts/&lt;tool-name&gt;</div></pre></td></tr></table></figure>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ phoronix-test-suite run &lt;tool-name&gt;</div></pre></td></tr></table></figure>
<h2 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h2><p>如果手头没有下载好的 package 安装包，执行安装命令就会直接从网络上面下载工具并安装，之后，如果我们想要把下载好的包提取出来做个备份，只需要执行下面的命令即可，</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ phoronix-test-suite make-download-cache</div></pre></td></tr></table></figure>
<p>命令成功执行后，我们就可以从 /path/to/phoronix-dir/download-cache 目录中找到了。</p>
<p>以上就是基本的介绍和使用指南，hope you enjoy it～</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Techniques/" class="article-tag-list-link color1">Techniques</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2015/11/22/System-Performance-Test/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-Programming" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/22/Programming/">Programming</a>
    </h1>
  

        
        <a href="/2015/11/22/Programming/" class="archive-article-date">
  	<time datetime="2015-11-22T02:47:47.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2015-11-22</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="读取文件内容，每次处理一行"><a href="#读取文件内容，每次处理一行" class="headerlink" title="读取文件内容，每次处理一行"></a>读取文件内容，每次处理一行</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line"><span class="keyword">while</span> <span class="built_in">read</span> &lt;line&gt;</div><div class="line"><span class="keyword">do</span></div><div class="line">    <span class="built_in">echo</span> $&lt;line&gt; <span class="comment"># or something else you want to do</span></div><div class="line"><span class="keyword">done</span> &lt; &lt;filename&gt;</div></pre></td></tr></table></figure>
<h2 id="同时打开两个新终端并执行程序"><a href="#同时打开两个新终端并执行程序" class="headerlink" title="同时打开两个新终端并执行程序"></a>同时打开两个新终端并执行程序</h2><p>源代码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * test.c</div><div class="line"> */</div><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span>* <span class="title">func1</span><span class="params">(<span class="keyword">void</span>* args)</span></span></div><div class="line">&#123;</div><div class="line">    system(<span class="string">"gnome-terminal -e ./test1"</span>);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span>* <span class="title">func2</span><span class="params">(<span class="keyword">void</span>* args)</span></span></div><div class="line">&#123;</div><div class="line">    system(<span class="string">"gnome-terminal -e ./test2"</span>);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">pthread_t</span> thread1, thread2;</div><div class="line">    pthread_create(&amp;thread1, <span class="literal">NULL</span>, func1, <span class="literal">NULL</span>);</div><div class="line">    pthread_create(&amp;thread1, <span class="literal">NULL</span>, func1, <span class="literal">NULL</span>);</div><div class="line">    </div><div class="line">    pthread_join(thread1, <span class="literal">NULL</span>);</div><div class="line">    pthread_join(thread2, <span class="literal">NULL</span>);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>生成可执行程序</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ gcc test.c -o <span class="built_in">test</span> -lpthread</div></pre></td></tr></table></figure>
<h2 id="为新线程传递参数"><a href="#为新线程传递参数" class="headerlink" title="为新线程传递参数"></a>为新线程传递参数</h2><p>源代码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">struct</span> thread_args &#123;</div><div class="line">    <span class="keyword">int</span> arg1;</div><div class="line">    <span class="keyword">int</span> arg2;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">/* 无论是否传递参数，线程所执行的函数都应该具有如下声明 */</span></div><div class="line"><span class="function"><span class="keyword">void</span>* <span class="title">func</span><span class="params">(<span class="keyword">void</span>* args)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">struct</span> thread_args* myargs = (<span class="keyword">struct</span> thread_args*) args;</div><div class="line">    </div><div class="line">    <span class="built_in">printf</span>(<span class="string">"arg1 is %d, arg2 is %d\n"</span>, myargs-&gt;arg1, myargs-&gt;arg2);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">pthread_t</span> mythread;</div><div class="line">    <span class="keyword">struct</span> thread_args myargs;</div><div class="line">    </div><div class="line">    myargs.arg1 = <span class="number">100</span>;</div><div class="line">    myargs.arg2 = <span class="number">200</span>;</div><div class="line">    </div><div class="line">    <span class="comment">/* 必须以结构体的形式，将参数传递给新线程 */</span></div><div class="line">    pthread_create(&amp;mythread, <span class="literal">NULL</span>, func, &amp;myargs);</div><div class="line">    </div><div class="line">    pthread_join(mythread, <span class="literal">NULL</span>);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="warning-address-of-stack-memory…"><a href="#warning-address-of-stack-memory…" class="headerlink" title="warning: address of stack memory…"></a>warning: address of stack memory…</h2><p>如果我写了一个返回指针的函数，而在函数体的 return 后面返回的是变量的地址，编译器就会给出警告，说这样是不安全的，所以我们再增加一个指针变量，将那个变量的地址赋给指针变量，最后再返回就好了。</p>
<p>即：应返回指针，而不是变量地址。</p>
<h2 id="Simple-Intro-to-GDB"><a href="#Simple-Intro-to-GDB" class="headerlink" title="Simple Intro to GDB"></a>Simple Intro to GDB</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// this is a really simple program called fact.c </span></div><div class="line"><span class="comment">// to calculate the factorial of 4</span></div><div class="line"><span class="comment">// the expecting result is 24</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> i, j;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (j=<span class="number">1</span>; j&lt;<span class="number">5</span>; j++) &#123;</div><div class="line">        i = i * j;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="built_in">printf</span>(<span class="string">"the result is %d\n"</span>, i);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># we use gcc to compile it</span></div><div class="line">$ gcc -o fact fact.c</div><div class="line"><span class="comment"># then run it</span></div><div class="line">$ ./fact</div><div class="line">the result is 0</div><div class="line"><span class="comment"># that is not what we expeted!</span></div></pre></td></tr></table></figure>
<p>So we use gdb to check what is going on~~~</p>
<p>To use gdb, we should add -ggdb to the gcc command line to include information for debugging.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ gcc -ggdb -o fact fact.c</div></pre></td></tr></table></figure>
<p>Then, We just run the following command to start gdb.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ gdb ./fact</div></pre></td></tr></table></figure>
<p>and you will get a prompt like this,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(gdb)</div></pre></td></tr></table></figure>
<p>Next, type <strong>r</strong> or <strong>run</strong> and hit enter, you will get the entire program running just like what running the fact executable.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(gdb) r</div></pre></td></tr></table></figure>
<p>What if we want to stop the program somewhere, just type <strong>b fact.c:5</strong> or <strong>break fact.c:5</strong> to stop the program at line 5 in the source code, or type <strong>b fact.c:main</strong> to stop the program from the very beginning.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(gdb) b fact.c: main</div></pre></td></tr></table></figure>
<p>If you want to see the source code to determine which line you should break, just type <strong>l</strong> to show a piece of the source code, then another <strong>l</strong>, you will get another piece, also <strong>l 12</strong> will get you to the line 12.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(gdb) l 12</div></pre></td></tr></table></figure>
<p>Suppose now you are at the <strong>for</strong> loop line, and you want to check the value of i, you can simply type <strong>p i</strong> or <strong>print i</strong> to print the current value of the variable i, further more, if you want to show all the variables, just type <strong>info locals</strong>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(gdb) info locals</div></pre></td></tr></table></figure>
<p>If you want to change the value of some variable, say change the value of i from nothing to 1, you can type <strong>p i = 1</strong>, then hit enter, then <strong>c</strong> or <strong>continue</strong> to continue the rest of the program or <strong>n</strong> to run just the next line of code, if we want to execute the program line by line, you can save you typing by just hit enter, the enter will execute the previous command which is <strong>n</strong>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(gdb) p i = 1</div></pre></td></tr></table></figure>
<p>If you want to quit the gdb, just type <strong>q</strong> or <strong>quit</strong>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(gdb) q</div></pre></td></tr></table></figure>
<h2 id="C-redifinition-error"><a href="#C-redifinition-error" class="headerlink" title="C redifinition error"></a>C redifinition error</h2><p>如果工程中有多个头文件，并且有的会互相包含，那么有可能会在编译的时候报出重复定义的错误，因为有的头文件被包含了不止一次，可以通过如下方式解决这个问题：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __SOMEFILE\_H__</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> __SOMEFILE\_H__</span></div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> *</div><div class="line"> * things in the file</div><div class="line"> *</div><div class="line"> */</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div></pre></td></tr></table></figure>
<p>头文件只会在变量未定义的情况下被包含一次，这样就很好的避免了重复定义的错误。</p>
<h2 id="如何编写并使用-DLL"><a href="#如何编写并使用-DLL" class="headerlink" title="如何编写并使用 DLL"></a>如何编写并使用 DLL</h2><h3 id="生成-DLL"><a href="#生成-DLL" class="headerlink" title="生成 DLL"></a>生成 DLL</h3><p>首先在 VC++ 6.0 中新建 Win32 Dynamic-Link Library 工程 testDLL，然后新建如下两个文件，EXPORT.h 和 testDLL.cpp。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * EXPORT.h</div><div class="line"> */</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> EXPORTING_DLL</span></div><div class="line"><span class="keyword">extern</span> <span class="string">"C"</span> __declspec (dllexport) <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">else</span></span></div><div class="line"><span class="keyword">extern</span> <span class="string">"C"</span> __declspec (dllimport) <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * testDLL.cpp</div><div class="line"> */</div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> EXPORTING_DLL</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"EXPORT.h"</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> a + b;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>编译之后，会生成两个文件 testDLL.dll 和 testDLL.lib。</p>
<h3 id="使用-DLL"><a href="#使用-DLL" class="headerlink" title="使用 DLL"></a>使用 DLL</h3><ol>
<li><p>新建一个 Win32 Console Application 工程 test，将 testDLL.lib 添加到<br>Project->Settings->Link 选项卡下的 Object/library modules 中。</p>
</li>
<li><p>将刚才生成的 testDLL.dll，testDLL.lib 以及 EXPORT.h 复制到 test 的工程目录中。</p>
</li>
<li><p>在 test 工程中新建文件 test.c 并添加如下内容</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">/*</div><div class="line"> * test.c</div><div class="line"> */</div><div class="line"></div><div class="line"><span class="comment">#include "EXPORT.h"</span></div><div class="line"></div><div class="line">int <span class="function"><span class="title">main</span></span>()</div><div class="line">&#123;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"the result of 1+2 is %d\n"</span>, add(1, 2));</div><div class="line">    <span class="built_in">return</span> 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="使用-vs2013-需要注意的地方"><a href="#使用-vs2013-需要注意的地方" class="headerlink" title="使用 vs2013 需要注意的地方"></a>使用 vs2013 需要注意的地方</h3><h4 id="让-vs2013-生成兼容-XP-的应用程序"><a href="#让-vs2013-生成兼容-XP-的应用程序" class="headerlink" title="让 vs2013 生成兼容 XP 的应用程序"></a>让 vs2013 生成兼容 XP 的应用程序</h4><p>默认是不兼容 XP 的。</p>
<p>右键单击工程-&gt;Properties-&gt;General-&gt;General-&gt;Platform Toolset: Visual Studio 2013 - Windows XP (v120_xp)</p>
<h4 id="字符集设置"><a href="#字符集设置" class="headerlink" title="字符集设置"></a>字符集设置</h4><p>默认情况下，使用双引号字符串会报错，采用下面的方法避免这个错误的产生。</p>
<p>右键单击工程-&gt;Properties-&gt;General-&gt;Project Defaults-&gt;Character Set: Not Set/Use Multi-Byte Character Set</p>
<h4 id="动态库使用问题"><a href="#动态库使用问题" class="headerlink" title="动态库使用问题"></a>动态库使用问题</h4><p>右键单击工程-&gt;Properties-&gt;Linker-&gt;Input-&gt;Additional Dependencies，然后添加自己的 DLL。</p>
<h4 id="修改-MFC-默认工程的图标"><a href="#修改-MFC-默认工程的图标" class="headerlink" title="修改 MFC 默认工程的图标"></a>修改 MFC 默认工程的图标</h4><p>ico 文件一般可以通过 png 文件转换得到。<br>直接将做好的 ico 文件替换到工程中的 res 目录，然后重新编译即可。</p>
<h4 id="DeviceIoControl"><a href="#DeviceIoControl" class="headerlink" title="DeviceIoControl"></a>DeviceIoControl</h4><p>如果想要使用 IOCTL 的特定控制字，需要调用 DeviceIoControl 函数，该函数需要头文件 windows.h。</p>
<h2 id="astyle-Code-Formatting-Tool"><a href="#astyle-Code-Formatting-Tool" class="headerlink" title="astyle Code Formatting Tool"></a>astyle Code Formatting Tool</h2><p>astyle 是一个开源的代码格式化工具，现在将常用选项列在下面：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>–style=kr / -A3</td>
<td>采用 K&amp;R 代码格式</td>
</tr>
<tr>
<td>–preserve-date / -Z</td>
<td>不改变文件修改时间</td>
</tr>
<tr>
<td>–unpad-paren / -U</td>
<td>将括号内侧空格去掉</td>
</tr>
<tr>
<td>–pad-header / -H</td>
<td>在 if/else 等后面添加空格</td>
</tr>
<tr>
<td>–align-pointer=type / -k1</td>
<td>将指针前的星号和指针类型连在一起</td>
</tr>
<tr>
<td>–align-reference=name / -W3</td>
<td>将&amp;符号同所引用的变量连在一起 ｜</td>
</tr>
<tr>
<td>–convert-tabs / -c</td>
<td>将 tab 转换为 space</td>
</tr>
<tr>
<td>–indent=spaces=4 / -s4</td>
<td>采用空格进行缩紧，一个单位为 4 个空格</td>
</tr>
<tr>
<td>–break-blocks / -f</td>
<td>在不相关的代码块间插入空格</td>
</tr>
<tr>
<td>–add-brackets / -j</td>
<td>在单行条件代码外添加大括号</td>
</tr>
<tr>
<td>–errors-to-stdout / -X</td>
<td>将错误输出到标准输出上</td>
</tr>
</tbody>
</table>
<h2 id="referencing-an-external-css-file"><a href="#referencing-an-external-css-file" class="headerlink" title="referencing an external css file"></a>referencing an external css file</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"stylesheet.css"</span>\&gt;</span></div></pre></td></tr></table></figure>
<h2 id="module-object-has-no-attribute-‘OrderedDict’"><a href="#module-object-has-no-attribute-‘OrderedDict’" class="headerlink" title="module object has no attribute ‘OrderedDict’"></a>module object has no attribute ‘OrderedDict’</h2><p>OrderedDict 在 Python2.7 才开始加入了该支持，所以如果 Python 的当前版本低于 2.7，就会报这个错误。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Techniques/" class="article-tag-list-link color1">Techniques</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2015/11/22/Programming/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-Things-Need-to-Know-about-Linux" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/22/Things-Need-to-Know-about-Linux/">Linux</a>
    </h1>
  

        
        <a href="/2015/11/22/Things-Need-to-Know-about-Linux/" class="archive-article-date">
  	<time datetime="2015-11-22T02:05:04.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2015-11-22</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Ubuntu-登录及注销时自动执行的脚本策略"><a href="#Ubuntu-登录及注销时自动执行的脚本策略" class="headerlink" title="Ubuntu 登录及注销时自动执行的脚本策略"></a>Ubuntu 登录及注销时自动执行的脚本策略</h2><h3 id="登录时"><a href="#登录时" class="headerlink" title="登录时"></a>登录时</h3><ol>
<li><p>~/.bash_profile</p>
</li>
<li><p>~/.bash_login</p>
</li>
<li><p>~/.profile</p>
</li>
</ol>
<p>按顺序查找，只执行最先找到的那个脚本。</p>
<h3 id="注销时"><a href="#注销时" class="headerlink" title="注销时"></a>注销时</h3><p>~/.bash_logout</p>
<h2 id="Hash-sum-mismatch-error-while-updating-Ubuntu"><a href="#Hash-sum-mismatch-error-while-updating-Ubuntu" class="headerlink" title="Hash sum mismatch error while updating Ubuntu"></a>Hash sum mismatch error while updating Ubuntu</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo rm -rf /var/lib/apt/lists/*</div><div class="line">sudo apt-get update</div></pre></td></tr></table></figure>
<h2 id="Ubuntu-切换到命令行模式的三种方法"><a href="#Ubuntu-切换到命令行模式的三种方法" class="headerlink" title="Ubuntu 切换到命令行模式的三种方法"></a>Ubuntu 切换到命令行模式的三种方法</h2><ol>
<li><p>sudo init 1;</p>
</li>
<li><p>切换到其他终端：crtl + alt + Fn</p>
</li>
<li><p>sudo /etc/init.d/gdm stop</p>
</li>
</ol>
<h2 id="Authentication-failure"><a href="#Authentication-failure" class="headerlink" title="Authentication failure"></a>Authentication failure</h2><p>Ubuntu 默认不开启 root 帐户，如果使用了 su 命令的话，会提示 authentication failure。</p>
<p>这时，需要用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo passwd root</div></pre></td></tr></table></figure>
<p>为 root 帐户设置密码。</p>
<h2 id="系统自动发送串口测试指令-AT-GCAP"><a href="#系统自动发送串口测试指令-AT-GCAP" class="headerlink" title="系统自动发送串口测试指令 (AT+GCAP)"></a>系统自动发送串口测试指令 (AT+GCAP)</h2><p>在正常加载驱动后，Ubuntu 的 ModemManager 会自动对串口进行测试，那么就会发现，还没有启动串口就已经有数据从串口发送出去了，要避免这种情况的发生，需要做下面的步骤，将 ModemManager 功能禁用掉。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /usr/share/dbus-1/system-services</div><div class="line">mv org.freedesktop.ModemManager.service org.freedesktop.ModemManager.service.disabled</div><div class="line">sudo reboot</div></pre></td></tr></table></figure>
<h2 id="Remove-unused-kernel-images"><a href="#Remove-unused-kernel-images" class="headerlink" title="Remove unused kernel images"></a>Remove unused kernel images</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">uname -r</div><div class="line">dpkg --list | grep linux-image</div><div class="line">sudo apt-get purge linux-image-x.x.x.x-generic</div></pre></td></tr></table></figure>
<h2 id="unknown-filesystem-grub-rescue"><a href="#unknown-filesystem-grub-rescue" class="headerlink" title="unknown filesystem: grub rescue"></a>unknown filesystem: grub rescue</h2><ol>
<li><p>ls 列出所有硬盘分区</p>
</li>
<li><p>ls (hd0,x)/ 检查分区中是否存在安装的系统</p>
</li>
<li><p>如果找到分区，则:</p>
</li>
<li><p>set root=(hd0,x)</p>
</li>
<li><p>set prefix=(hd0,x)/boot/grub</p>
</li>
<li><p>insmod /boot/grub/i386-pc/normal.mod</p>
</li>
<li><p>normal</p>
</li>
</ol>
<p>正常情况下应该进入到启动列表，然后按 c 进入 grub 命令行：</p>
<ol>
<li><p>set root=(hd0,x)</p>
</li>
<li><p>linux /boot/vmlinuz-xxx root=/dev/sda(y)</p>
</li>
<li><p>initrd /boot/initrd-xxx</p>
</li>
<li><p>boot</p>
</li>
</ol>
<p>如果成功的话就能够正常进入 ubuntu系统了，进入系统后，打开 terminal：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo grub-install /dev/sda</div><div class="line">sudo depmod</div><div class="line">sudo update-grub</div><div class="line">sudo reboot</div></pre></td></tr></table></figure>
<h2 id="vim-方向键变字母的问题"><a href="#vim-方向键变字母的问题" class="headerlink" title="vim 方向键变字母的问题"></a>vim 方向键变字母的问题</h2><ul>
<li><p>方法一</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get remove vim-common; sudo apt-get install vim</div></pre></td></tr></table></figure>
</li>
<li><p>方法二</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo gedit ~/.vimrc</div><div class="line">添加</div><div class="line"><span class="built_in">set</span> nocompatible</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Install-Boot-Repair-on-Ubuntu"><a href="#Install-Boot-Repair-on-Ubuntu" class="headerlink" title="Install Boot-Repair on Ubuntu"></a>Install Boot-Repair on Ubuntu</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo add-apt-repository ppa:yannubuntu/boot-repair</div><div class="line">sudo apt-get update</div><div class="line">sudo apt-get install boot-repair</div></pre></td></tr></table></figure>
<h2 id="configure-error-C-preprocessor-“-lib-cpp”-fails-sanity-check"><a href="#configure-error-C-preprocessor-“-lib-cpp”-fails-sanity-check" class="headerlink" title="configure: error: C++ preprocessor “|lib|cpp” fails sanity check"></a>configure: error: C++ preprocessor “|lib|cpp” fails sanity check</h2><p>在编译软件时，如果出现上面错误，在 centos 下运行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install gcc-c++</div></pre></td></tr></table></figure>
<p>即可。</p>
<h2 id="grep-lines-containing-tab-character"><a href="#grep-lines-containing-tab-character" class="headerlink" title="grep lines containing tab character"></a>grep lines containing tab character</h2><p>Using a regular form to grep lines in file.txt containing tab character, be careful about the $ sign before the ‘\t’ expression.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">grep $<span class="string">'\t'</span> file.txt</div></pre></td></tr></table></figure>
<p>Using perl script to grep lines in file.txt containing tab character, -P (uppercase) option means perl.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">grep -P <span class="string">'\t'</span> file.txt</div></pre></td></tr></table></figure>
<p>Grep lines in file.txt not containing tab character, -v option means reverse.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">grep -v $<span class="string">'\t'</span> file.txt</div></pre></td></tr></table></figure>
<h2 id="grep-find-指定文件范围查找"><a href="#grep-find-指定文件范围查找" class="headerlink" title="grep+find 指定文件范围查找"></a>grep+find 指定文件范围查找</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">find . -i name <span class="string">"*.c"</span> -exec grep <span class="string">"hello"</span> &#123;&#125; \;</div></pre></td></tr></table></figure>
<h2 id="Kernel-Panic-not-syncing-VFS-Unable-to-mount-root-fs-on-unknown-block-0-0"><a href="#Kernel-Panic-not-syncing-VFS-Unable-to-mount-root-fs-on-unknown-block-0-0" class="headerlink" title="Kernel Panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)"></a>Kernel Panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo initramfs -u -k version</div><div class="line">sudo update-grub2</div></pre></td></tr></table></figure>
<h2 id="安装-Nvidia-显卡驱动"><a href="#安装-Nvidia-显卡驱动" class="headerlink" title="安装 Nvidia 显卡驱动"></a>安装 Nvidia 显卡驱动</h2><ol>
<li><p>禁用 SELinux</p>
</li>
<li><p>将 “blacklist nouveau” 添加到 /etc/modprob.d/blacklist.conf 文件末尾</p>
</li>
<li><p>将 /etc/grub.conf 中的 “nouveau.modeset=0” 去掉</p>
</li>
<li><p>执行 init 3</p>
</li>
<li><p>执行 xxx.run 驱动安装脚本</p>
</li>
<li><p>备份 /etc/X11/xorg.conf 后，将该文件删掉</p>
</li>
<li><p>重新启动系统。</p>
</li>
</ol>
<h2 id="ssh-keygen-的使用方法"><a href="#ssh-keygen-的使用方法" class="headerlink" title="ssh-keygen 的使用方法"></a>ssh-keygen 的使用方法</h2><p>为了让两个 Linux 机器之间使用 ssh 不需要用户名和密码，采用数字签名 RSA 或者 DSA 来完成这个操作。</p>
<h3 id="模型分析"><a href="#模型分析" class="headerlink" title="模型分析"></a>模型分析</h3><p>假设 A (192.168.20.59) 为客户机器，B (192.168.20.60) 为目标机。</p>
<p>要达到的目的：</p>
<p>A 机器 ssh 登录 B 机器无需输入密码；</p>
<p>加密方式选 rsa 或者 dsa 均可以，默认是 dsa。</p>
<h3 id="具体操作流程"><a href="#具体操作流程" class="headerlink" title="具体操作流程"></a>具体操作流程</h3><h4 id="单向登陆的操作过程（能满足上边的目的）"><a href="#单向登陆的操作过程（能满足上边的目的）" class="headerlink" title="单向登陆的操作过程（能满足上边的目的）"></a>单向登陆的操作过程（能满足上边的目的）</h4><ol>
<li><p>登录 A 机器</p>
</li>
<li><p>ssh-keygen -t [rsa|dsa]，将会生成密钥文件和私钥文件 id_rsa, id_rsa.pub 或 id_dsa, id_dsa.pub</p>
</li>
<li><p>将 .pub 文件复制到 B 机器的 .ssh 目录， 并 cat id_dsa.pub &gt;&gt; ~/.ssh/authorized_keys</p>
</li>
<li><p>大功告成，从 A 机器登录 B 机器的目标账户，不再需要密码了。（直接运行 ssh 192.168.20.60）</p>
</li>
</ol>
<h4 id="双向登陆的操作过程"><a href="#双向登陆的操作过程" class="headerlink" title="双向登陆的操作过程"></a>双向登陆的操作过程</h4><p>ssh-keygen 做密码验证可以使在向对方机器上 ssh, scp 不用使用密码。具体方法如下:</p>
<ol>
<li><p>在两个机器上互相执行上面的 1～3 步</p>
</li>
<li><p>设置文件和目录权限：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chmod 600 authorized_keys</div><div class="line">chmod 700 -R .ssh</div></pre></td></tr></table></figure>
<p> 要保证 .ssh 和 authorized_keys 都<strong>只有用户自己有写权限，否则验证无效</strong>。</p>
</li>
</ol>
<h2 id="Ubuntu-10-04-如何进入-grub-命令行"><a href="#Ubuntu-10-04-如何进入-grub-命令行" class="headerlink" title="Ubuntu 10.04 如何进入 grub 命令行"></a>Ubuntu 10.04 如何进入 grub 命令行</h2><p>Ubuntu 从 10.04 开始使用 GRUB2.0 版本，默认安装情况下 grub2 启动菜单是隐藏的，除非您改动了 /etc/default/grub 中的设置。</p>
<p>打开 grub2 启动菜单的方法：</p>
<p>在开机启动时一直按 Shift 键，直到 grub2 启动菜单出现，这时候可以按上下方向键选择一个项目，或者直接按 ‘c’ 进入命令行模式。</p>
<h2 id="命令行下查找和替换文本的方法"><a href="#命令行下查找和替换文本的方法" class="headerlink" title="命令行下查找和替换文本的方法"></a>命令行下查找和替换文本的方法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sed -i <span class="string">'s/&lt;old-string&gt;/&lt;new-string&gt;/g'</span> `grep &lt;old-string&gt; -rl .`</div></pre></td></tr></table></figure>
<h2 id="Getting-part-of-a-string"><a href="#Getting-part-of-a-string" class="headerlink" title="Getting part of a string"></a>Getting part of a string</h2><p>Getting the “File” part</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">"File.txt"</span> | cut <span class="_">-d</span>\. <span class="_">-f</span>1</div></pre></td></tr></table></figure>
<p>Getting the “txt” part</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">"File.txt"</span> | cut <span class="_">-d</span>\. <span class="_">-f</span>2</div></pre></td></tr></table></figure>
<p><strong>-fn</strong> stands for the nth field</p>
<p><strong>-d.</strong> means we use dot character as delimiter. <strong>cut</strong> command uses tab as its delimiter by default.</p>
<p><strong>-s</strong> option means only shows the results contains the delimiter</p>
<h2 id="安装-Grub"><a href="#安装-Grub" class="headerlink" title="安装 Grub"></a>安装 Grub</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mount /dev/sdaX /mnt</div><div class="line">grub-install --root-directory=/mnt /dev/sdX</div></pre></td></tr></table></figure>
<h2 id="gawk"><a href="#gawk" class="headerlink" title="gawk"></a>gawk</h2><p><strong>需要系统中有 troff</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">./configure</div><div class="line">make</div><div class="line"><span class="built_in">cd</span> doc/</div><div class="line">make awkward.pdf</div></pre></td></tr></table></figure>
<h2 id="wget"><a href="#wget" class="headerlink" title="wget"></a>wget</h2><h3 id="下载-https-链接"><a href="#下载-https-链接" class="headerlink" title="下载 https 链接"></a>下载 https 链接</h3><p>需要添加 –no-check-certificate 选项</p>
<h3 id="在配置文件中添加代理"><a href="#在配置文件中添加代理" class="headerlink" title="在配置文件中添加代理"></a>在配置文件中添加代理</h3><p>编辑 ~/.wgetrc 文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">http_proxy=http://127.0.0.1:8088</div><div class="line">https_proxy=http://127.0.0.1:8088</div><div class="line">ftp_proxy=http://127.0.0.1:8088</div><div class="line">use_proxy=off (默认不开启代理)</div></pre></td></tr></table></figure>
<p>之后可在命令中用 -Y on 来手动开启代理。</p>
<h2 id="Bochs"><a href="#Bochs" class="headerlink" title="Bochs"></a>Bochs</h2><p>Ubuntu 环境下，默认的配置文件为 /etc/bochs-init/bochsrc.</p>
<p>将配置文件中的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">romimage: file=$BXSHARE/BIOS-bochs-latest, address=0xf0000</div></pre></td></tr></table></figure>
<p>改成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">romimage: file=$BXSHARE/BIOS-bochs-latest</div></pre></td></tr></table></figure>
<p>即可。</p>
<h2 id="diff-的四种格式解读"><a href="#diff-的四种格式解读" class="headerlink" title="diff 的四种格式解读"></a>diff 的四种格式解读</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 1. 传统格式</span></div><div class="line">diff &lt;before&gt; &lt;after&gt;</div><div class="line"></div><div class="line"><span class="comment"># 2. 上下文格式</span></div><div class="line">diff -c &lt;before&gt; &lt;after&gt;</div><div class="line"></div><div class="line"><span class="comment"># 3. 合并格式</span></div><div class="line">diff -u &lt;before&gt; &lt;after&gt;</div><div class="line"></div><div class="line"><span class="comment"># 4. git diff</span></div><div class="line"><span class="comment"># 这种格式不需要文件位于 git 仓库内</span></div><div class="line">git diff &lt;before&gt; &lt;after&gt;</div></pre></td></tr></table></figure>
<h2 id="几个常用的-RPM-命令"><a href="#几个常用的-RPM-命令" class="headerlink" title="几个常用的 RPM 命令"></a>几个常用的 RPM 命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">1. 查询特定的 rpm 包是否已经安装</div><div class="line">rpm -q xxx.rpm</div><div class="line"></div><div class="line">2. 列出系统中所有的 rpm 包，并在中间按关键字查找</div><div class="line">rpm -qa | grep xxx</div><div class="line"></div><div class="line">3. 删除制定的 rpm 包</div><div class="line">rpm -e xxx.rpm</div><div class="line">注：如果有依赖关系的话，默认是不能删除的，这时就要用 yum remove 来进行卸载</div></pre></td></tr></table></figure>
<h2 id="基础命令的进度监控"><a href="#基础命令的进度监控" class="headerlink" title="基础命令的进度监控"></a>基础命令的进度监控</h2><p>正常情况下，cp 命令是不会显示进度的，如果你打算拷贝一个 20 GB 的文件，天知道要等多久，心里真没底啊。。。。咋办呢？</p>
<p>下面是方法一：</p>
<p>干脆就不用 cp 命令了，改用下面这个：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ rsync -av --progress &lt;from&gt; &lt;to&gt;</div></pre></td></tr></table></figure>
<p>但是，别的命令咋办呢，比如 mv？正好在 github 上面有这个项目，<a href="https://github.com/BestPig/cv" target="_blank" rel="external">Coreutils Viewer</a>，下载之后 make &amp;&amp; make install 就可以了，下面给出使用方法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cp &lt;from&gt; &lt;to&gt; &amp; cv -m</div></pre></td></tr></table></figure>
<p>注意：上面的命令仅仅用了一个 &amp;，用来让 cp 命令在后台执行，而在前台执行 cv -m 命令，目的就是用来监控 cp 的进度，非常方便。</p>
<h2 id="Ubuntu-内核开发环境搭建"><a href="#Ubuntu-内核开发环境搭建" class="headerlink" title="Ubuntu 内核开发环境搭建"></a>Ubuntu 内核开发环境搭建</h2><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><ul>
<li><p>OS：ubuntu-12.04.4-desktop-i386</p>
</li>
<li><p>运行环境：虚拟机。内存分配 1GB，CPU 分配一个核心</p>
</li>
<li><p>安装配置：磁盘分配为系统默认，默认选择 “安装时下载” 和 “安装第三方软件“</p>
</li>
<li><p>系统自带内核：3.11.0-15</p>
</li>
<li><p>需要编译的内核：linux-3.11.tar.gz （从 kernel.org 下载）</p>
</li>
<li><p>需要 apt-get 安装组件 build-essential, libncurses-dev, kernel-package</p>
</li>
</ul>
<h3 id="内核编译及安装步骤"><a href="#内核编译及安装步骤" class="headerlink" title="内核编译及安装步骤"></a>内核编译及安装步骤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> ~/Desktop; tar zxf linux-3.11.tar.gz; <span class="built_in">cd</span> linux</div><div class="line">make mrproper</div><div class="line">make menuconfig</div><div class="line"><span class="comment"># 界面出来之后直接选择退出，然后选择保存</span></div><div class="line">cp /boot/xxx-config .config</div><div class="line">make -j&lt;n&gt; <span class="comment">#单核 n=1，双核 n=2</span></div><div class="line"><span class="comment"># 接下来会让你确认一个内核选项，是关于 vesa 的，选择 yes 即可</span></div><div class="line"><span class="comment"># 然后就进入了编译过程，这里需要漫长的等待，根据上面的虚拟机配置，预计时间为 30 ~ 60 分钟</span></div><div class="line">sudo make modules_install</div><div class="line">sudo make install</div></pre></td></tr></table></figure>
<h3 id="新内核使用及相关问题"><a href="#新内核使用及相关问题" class="headerlink" title="新内核使用及相关问题"></a>新内核使用及相关问题</h3><p>重启后如果找不到 Grub2 启动菜单，需要在启动时按住 Shift 键，然后在菜单上找到 Previous 选择新内核进入系统后，需要重新安装 VMware Tools，否则无法同主机进行文件共享。编译驱动时，如果提示 popt.h: No such file or directory，需要 apt-get 安装 libpopt-dev。</p>
<h2 id="如何验证当前系统是-32-位还是-64-位"><a href="#如何验证当前系统是-32-位还是-64-位" class="headerlink" title="如何验证当前系统是 32 位还是 64 位"></a>如何验证当前系统是 32 位还是 64 位</h2><p>方法一</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ getconf LONG_BIT</div></pre></td></tr></table></figure>
<p>方法二</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ file /bin/ls</div></pre></td></tr></table></figure>
<h2 id="How-to-Check-and-Use-Serial-Ports-under-Linux"><a href="#How-to-Check-and-Use-Serial-Ports-under-Linux" class="headerlink" title="How to Check and Use Serial Ports under Linux"></a>How to Check and Use Serial Ports under Linux</h2><h3 id="Check-the-System-Initialization-for-Serial-Ports"><a href="#Check-the-System-Initialization-for-Serial-Ports" class="headerlink" title="Check the System Initialization for Serial Ports"></a>Check the System Initialization for Serial Ports</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ dmesg | grep tty</div></pre></td></tr></table></figure>
<h3 id="Check-What-Serial-Ports-Your-Linux-Has"><a href="#Check-What-Serial-Ports-Your-Linux-Has" class="headerlink" title="Check What Serial Ports Your Linux Has"></a>Check What Serial Ports Your Linux Has</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ setserial -g /dev/ttyS[0123]</div></pre></td></tr></table></figure>
<h2 id="串口的简单使用"><a href="#串口的简单使用" class="headerlink" title="串口的简单使用"></a>串口的简单使用</h2><ol>
<li><p>查看串口设备信息</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ dmesg | grep tty</div></pre></td></tr></table></figure>
</li>
<li><p>查看串口驱动信息</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cat /proc/tty/drivers/serial</div></pre></td></tr></table></figure>
</li>
<li><p>读写</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># read</span></div><div class="line">$ cat /dev/ttyS1</div><div class="line"><span class="comment"># write</span></div><div class="line">$ <span class="built_in">echo</span> 12345 &gt; /dev/ttyS1</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="添加删除用户"><a href="#添加删除用户" class="headerlink" title="添加删除用户"></a>添加删除用户</h2><ol>
<li><p>注销旧用户</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ pkill -u &lt;username&gt;</div></pre></td></tr></table></figure>
<p> or</p>
<p> 用 ps 命令找到用户登录的终端，然后关闭对应的进程</p>
</li>
<li><p>删除旧用户</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ userdel &lt;username&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>添加新用户</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ groupadd &lt;groupname&gt;</div><div class="line">$ useradd -g &lt;groupname&gt; <span class="_">-d</span> /home/&lt;username&gt; <span class="_">-s</span> /bin/bash</div><div class="line"></div><div class="line"><span class="comment"># 将用户加入到新组，并不破坏原来的组</span></div><div class="line">$ usermod <span class="_">-a</span> -G &lt;groupname&gt; &lt;username&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="运行软件时提示-GLIBCXX-3-4-15-not-found"><a href="#运行软件时提示-GLIBCXX-3-4-15-not-found" class="headerlink" title="运行软件时提示 GLIBCXX_3.4.15 not found"></a>运行软件时提示 GLIBCXX_3.4.15 not found</h2><p>我打算在 fedora 14 上安装使用 Qt5.4.1，能够正常安装，但是打不开 QtCreator，提示 /usr/lib/libstdc++.so.6: GLIBCXX_3.4.15 not found，在官网上下载了 fedora 15 的 libstdc++-4.6.0-6.fc15.i686.rpm，直接安装的话，会和现有的组件起冲突，可以换另外一种方式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 对 rpm 进行解压缩</span></div><div class="line">$ rpm2cpio libstdc++-4.6.0-6.fc15.i686.rpm | cpio -div</div><div class="line"><span class="comment"># 解压出来是一个 usr 文件夹</span></div><div class="line">$ <span class="built_in">cd</span> usr/lib/</div><div class="line"><span class="comment"># 可以通过下面的命令查看当前动态库是否包含 GLIBCXX_3.4.15</span></div><div class="line">$ strings libstdc++.so.6.16 | grep GLIBCXX_3.4.15</div><div class="line"></div><div class="line">$ sudo cp libstdc++.so.6.16 /usr/lib/; <span class="built_in">cd</span> /usr/lib</div><div class="line"><span class="comment"># 删除旧的链接并重新新建</span></div><div class="line">$ sudo rm libstdc++.so.6</div><div class="line">$ sudo ln <span class="_">-s</span> libstdc++.so.6 libstdc++.so.6.16</div></pre></td></tr></table></figure>
<h2 id="修改用户信息"><a href="#修改用户信息" class="headerlink" title="修改用户信息"></a>修改用户信息</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ chfn &lt;username&gt;</div></pre></td></tr></table></figure>
<h2 id="Apache-允许外部主机访问"><a href="#Apache-允许外部主机访问" class="headerlink" title="Apache 允许外部主机访问"></a>Apache 允许外部主机访问</h2><p>如果安装的是 xampp，在 Apache2.4 以后的版本，需要编辑 /opt/xampp/etc/extra/httpd-xampp.conf，找到 LocationMatch，将里面的 Require local 替换为 Require all granted 即可。</p>
<h2 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ifconfig eth0 192.168.1.120 netmask 255.255.255.0</div></pre></td></tr></table></figure>
<h2 id="ELDK-安装"><a href="#ELDK-安装" class="headerlink" title="ELDK 安装"></a>ELDK 安装</h2><p>ELDK 是用于生成 u-boot 的开发套件，目前的最新版本是 5.6</p>
<p>下载针对 PowerPC 的镜像 eldk-5.6-powerpc.iso，文件大小 5GB 左右。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$ sudo mount -t iso9660 -o loop eldk-5.6-powerpc.iso /mnt</div><div class="line">$ <span class="built_in">cd</span> /mnt/eldk-5.6/</div><div class="line">$ sudo ./install.sh <span class="_">-s</span> toolchain powerpc</div><div class="line"></div><div class="line"><span class="comment"># 接下来安装会有问题，提示不能读取 toolchain 的 tarball 文件，那么我们就来手动安装</span></div><div class="line"></div><div class="line">$ <span class="built_in">cd</span> /opt/eldk-5.6/powerpc</div><div class="line">$ sudo mkdir rootfs-minimal</div><div class="line">$ sudo tar xpf /mnt/eldk-5.6/targets/powerpc/core-image-minimal-generic-powerpc.tar.gz -C rootfs-minimal</div><div class="line"></div><div class="line">$ sudo mkdir rootfs-minimal-dev</div><div class="line">$ sudo tar xpf /mnt/eldk-5.6/targets/powerpc/core-image-minimal-dev-generic-powerpc.tar.gz -C rootfs-minimal-dev</div><div class="line"></div><div class="line">$ sudo mkdir rootfs-minimal-mtdutils</div><div class="line">$ sudo tar xpf /mnt/eldk-5.6/targets/powerpc/core-image-minimal-mtdutils-generic-powerpc.tar.gz -C rootfs-minimal-mtdutils</div><div class="line"></div><div class="line">$ sudo mkdir rootfs-minimal-xenomai</div><div class="line">$ sudo tar xpf /mnt/eldk-5.6/targets/powerpc/core-image-minimal-xenomai-generic-powerpc.tar.gz -C rootfs-minimal-xenomai</div></pre></td></tr></table></figure>
<h3 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> /opt/eldk-5.6/powerpc</div><div class="line">$ <span class="built_in">source</span> environment-setup-powerpc-linux</div><div class="line">$ <span class="built_in">export</span> ARCH=powerpc</div><div class="line">$ <span class="built_in">export</span> CROSS_COMPILE=<span class="variable">$&#123;TARGET_PREFIX&#125;</span></div></pre></td></tr></table></figure>
<h2 id="Ubuntu14-04-安装-Sublime-Text-2"><a href="#Ubuntu14-04-安装-Sublime-Text-2" class="headerlink" title="Ubuntu14.04 安装 Sublime Text 2"></a>Ubuntu14.04 安装 Sublime Text 2</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:webupd8team/sublime-text-2</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install sublime-text</div></pre></td></tr></table></figure>
<h2 id="Terminal-配色方案"><a href="#Terminal-配色方案" class="headerlink" title="Terminal 配色方案"></a>Terminal 配色方案</h2><p>文本颜色设为 #708284，背景颜色设为 #07242E</p>
<h2 id="Ubuntu-用关键字查询已经安装的软件包"><a href="#Ubuntu-用关键字查询已经安装的软件包" class="headerlink" title="Ubuntu 用关键字查询已经安装的软件包"></a>Ubuntu 用关键字查询已经安装的软件包</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo dpkg --get-selections | grep xxx</div></pre></td></tr></table></figure>
<h2 id="update-alternatives-学习笔记［转载］"><a href="#update-alternatives-学习笔记［转载］" class="headerlink" title="update-alternatives 学习笔记［转载］"></a>update-alternatives 学习笔记［转载］</h2><h3 id="作用概述"><a href="#作用概述" class="headerlink" title="作用概述"></a>作用概述</h3><ol>
<li>为多个功能相同但名称不同的软件起一个共用的名称；</li>
<li>可以让同一个软件的多个版本共存。</li>
</ol>
<p>Linux 发展到今天，可用的软件已经非常多了。这样自然会有一些软件的功能大致上相同。例如，同样是编辑器，就有 nvi、vim、emacs、nano，而且我说的这些还只是一部分。大多数情况下，这样的功能相似的软件都是同时安装在系统里的，可以用它们的名称来执行。例如，要执行 vim，只要在终端下输入 vim 并按回车就可以了。不过，有些情况下我们需要用一个相对固定的命令调用这些程序中的一个。例如，当我们写一个脚本程序时，只要写下 editor，而不希望要为“编辑器是哪个”而操心。Debian 提供了一种机制来解决这个问题，而 update-alternatives 就是用来实现这种机制的。</p>
<h3 id="参数详解"><a href="#参数详解" class="headerlink" title="参数详解"></a>参数详解</h3><ol>
<li><p>–display</p>
<p> 它使我们可以看到一个命令的所有可选命令</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ update-alternatives --display editor</div></pre></td></tr></table></figure>
<p> 可以看到我的机器上的所有可以用来被 editor 链接的命令。</p>
</li>
<li><p>–config</p>
<p> 这个选项使我们可以选择其中一个命令程序来作为 editor</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ update-alternatives --config editor</div></pre></td></tr></table></figure>
</li>
<li><p>–auto</p>
<p> update-alternatives 在一般情况下是由 postinst 和 prerm 这样的安装脚本自动调用的，所以一个 alternative 的状态有两种：<strong>自动和手动</strong>。每个 alternative 的 <strong>初始状态都是自动</strong>。如果系统发现管理员手动修改了一个 alternative，它的状态就从自动变成了手动，这样安装脚本就不会更新它了。如果你希望将一个 alternative 变回自动，只要执行代码:</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ update-alternatives --auto editor</div></pre></td></tr></table></figure>
</li>
<li><p>–install</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ update-alternatives --install gen link alt pri [--slave sgen slink salt] ...</div></pre></td></tr></table></figure>
<p> gen，link，alt，pri 分别在下面解释。如果需要从 alternative，你可以用 –slave。如果你在向一个已经存在的 alternative 组中添加新的 alternative，该命令会把这个 alternative 加入到这个已经存在的 alternative 组的列表中，并用新的可选命令作为新的命令；否则，将会建立一个新的自动的 alternative 组。</p>
</li>
<li><p>–remove</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ update-alternatives --remove name path</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h4><ol>
<li>general name：这是指一系列功能相似的程序的“公用”名字（包括绝对路径），比如 /usr/bin/editor。</li>
<li>link：这是指一个 alternative 在 /etc/alternative 中的名字，比如 editor，–display，–config 和 –auto 后面跟的都是 link。</li>
<li>alternative：顾名思义，这是指一个可选的程序所在的路径（包括绝对路径），比如 /usr/bin/vim。</li>
<li>优先级：这个比较简单，当然优先级越高的程序越好啦。</li>
<li>主和从alternative：想想看，你将 /usr/bin/editor 链接到了 vim，可是当你执行 man editor 时看到的却是 emacs 的 manpage，你会做何感想呢？这就引出了主和从 alternative 的概念了：当更新主的 alternative 时，从的 alternative 也会被更新。</li>
</ol>
<h2 id="多个-gcc-共存"><a href="#多个-gcc-共存" class="headerlink" title="多个 gcc 共存"></a>多个 gcc 共存</h2><p>因为编译软件的需要，Ubuntu 自带的 gcc4.4.1 版本太高，可能需要 gcc3.x，这里选择的是 gcc3.4.4。</p>
<h3 id="下载并安装-deb-安装包"><a href="#下载并安装-deb-安装包" class="headerlink" title="下载并安装 deb 安装包"></a>下载并安装 deb 安装包</h3><p><strong>选择源码包编译安装可能会出错</strong></p>
<p>下载地址为：<a href="http://archive.ubuntu.com/ubuntu/pool/universe/g/gcc-3.4/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/pool/universe/g/gcc-3.4/</a></p>
<ol>
<li>gcc-3.4-base_3.4.6-6ubuntu3_i386.deb</li>
<li>gcc-3.4_3.4.6-6ubuntu3_i386.deb</li>
<li>cpp-3.4_3.4.6-6ubuntu3_i386.deb</li>
<li>g++-3.4_3.4.6-6ubuntu3_i386.deb</li>
<li>libstdc++6-dev_3.4.6-6ubuntu3_i386.deb</li>
</ol>
<h3 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h3><p>目前系统里存在有两个版本的 gcc，缺省值为 gcc4.4.1，这里我们需要改变系统的缺省值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ls /usr/bin/gcc* -ll</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">rwxrwxrwx  1 root root  21      2009-02-10 17:24 /usr/bin/gcc -&gt; /etc/alternatives/gcc</div><div class="line">-rwxr-xr-x 1 root root  85552   2008-05-08 18:04 /usr/bin/gcc-3.4</div><div class="line">-rwxr-xr-x 1 root root  193372  2008-10-11 03:41 /usr/bin/gcc-4.2</div><div class="line">-rwxr-xr-x 1 root root  16090   2008-05-08 17:58 /usr/bin/gccbug-3.4</div><div class="line">-rwxr-xr-x 1 root root  2018    2007-06-05 08:59 /usr/bin/gccmakedep</div></pre></td></tr></table></figure>
<h3 id="增加-gcc3-4-和-gcc4-3-可选项"><a href="#增加-gcc3-4-和-gcc4-3-可选项" class="headerlink" title="增加 gcc3.4 和 gcc4.3 可选项"></a>增加 gcc3.4 和 gcc4.3 可选项</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.2 40</div><div class="line">$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-3.4 30</div></pre></td></tr></table></figure>
<h3 id="切换版本到-gcc-3-4"><a href="#切换版本到-gcc-3-4" class="headerlink" title="切换版本到 gcc-3.4"></a>切换版本到 gcc-3.4</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo update-alternatives --config gcc</div></pre></td></tr></table></figure>
<p>现有 2 个可选项，它们都提供了 gcc</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">1   /usr/bin/gcc-3.4*</div><div class="line">2   /usr/bin/gcc-4.2</div></pre></td></tr></table></figure>
<p>要维持缺省值 [*]，按回车键，或者键入选择的编号：1</p>
<p>使用 “/usr/bin/gcc-3.4” 来提供 gcc。</p>
<h2 id="no-glxinfo-command"><a href="#no-glxinfo-command" class="headerlink" title="no glxinfo command"></a>no glxinfo command</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install mesa-utils</div></pre></td></tr></table></figure>
<h2 id="inode"><a href="#inode" class="headerlink" title="inode"></a>inode</h2><h3 id="A-Brief-Intro"><a href="#A-Brief-Intro" class="headerlink" title="A Brief Intro"></a>A Brief Intro</h3><p>1 sector = 512B = 0.5KiB</p>
<p>1 block contains a series of sectors, commonly 4KiB (8 sectors).</p>
<p>1 disk consists of a data section and a inode section.</p>
<p>1 inode represents 1 file in the disk, it contains</p>
<ul>
<li>size in Bytes</li>
<li>owner ID</li>
<li>group ID</li>
<li>RWX priviledge</li>
<li>timestamp<ul>
<li>ctime (last inode change time)</li>
<li>mtime (last file content change time)</li>
<li>atime (last file access time)</li>
</ul>
</li>
<li>number of links</li>
<li>data section location</li>
</ul>
<h4 id="Files-in-Linux"><a href="#Files-in-Linux" class="headerlink" title="Files in Linux"></a>Files in Linux</h4><ul>
<li>real file<ul>
<li>data</li>
<li>inode</li>
</ul>
</li>
<li>directory<ul>
<li>file list (use the pair (file_name : inode_num))</li>
<li>inode</li>
</ul>
</li>
</ul>
<p>The maximum number of files (a.k.a the number of inodes) is fixed after the disk formatting.</p>
<h3 id="Useful-Commands"><a href="#Useful-Commands" class="headerlink" title="Useful Commands"></a>Useful Commands</h3><h4 id="stat"><a href="#stat" class="headerlink" title="stat"></a>stat</h4><p>show the inode information of file1:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">stat</span> file1</div></pre></td></tr></table></figure>
<h4 id="df-i"><a href="#df-i" class="headerlink" title="df -i"></a>df -i</h4><p>examine the inode usage of the system:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ df -i</div></pre></td></tr></table></figure>
<h4 id="dumpe2fs"><a href="#dumpe2fs" class="headerlink" title="dumpe2fs"></a>dumpe2fs</h4><p>check the inode size of disk sda in the current system:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo dumpe2fs -h /dev/sda1 | gerp <span class="string">"Inode size"</span></div></pre></td></tr></table></figure>
<p>The result is usually 128B or 256B.</p>
<h4 id="ls-i"><a href="#ls-i" class="headerlink" title="ls -i"></a>ls -i</h4><p>check the inode number of file1:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ls -i file1</div></pre></td></tr></table></figure>
<h2 id="vmware-workstation-no-3d-support-on-linux"><a href="#vmware-workstation-no-3d-support-on-linux" class="headerlink" title="vmware workstation no 3d support on linux"></a>vmware workstation no 3d support on linux</h2><p>Open the .vmx file of the virtual machine with a text editor, add the following to the end of the file.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mks.gl.allowBlacklistedDrivers = <span class="string">"TRUE"</span></div></pre></td></tr></table></figure>
<h2 id="简单的网络诊断方法"><a href="#简单的网络诊断方法" class="headerlink" title="简单的网络诊断方法"></a>简单的网络诊断方法</h2><h3 id="检测网络端口状态"><a href="#检测网络端口状态" class="headerlink" title="检测网络端口状态"></a>检测网络端口状态</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo netstat -apn</div></pre></td></tr></table></figure>
<h3 id="检测防火墙规则"><a href="#检测防火墙规则" class="headerlink" title="检测防火墙规则"></a>检测防火墙规则</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo iptables -L</div></pre></td></tr></table></figure>
<h3 id="查看防火墙状态"><a href="#查看防火墙状态" class="headerlink" title="查看防火墙状态"></a>查看防火墙状态</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo ufw verbose</div></pre></td></tr></table></figure>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Techniques/" class="article-tag-list-link color1">Techniques</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2015/11/22/Things-Need-to-Know-about-Linux/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-Differences-in-Linux-Kernels-for-Device-Driver-Development" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/22/Differences-in-Linux-Kernels-for-Device-Driver-Development/">不同内核版本间的差异</a>
    </h1>
  

        
        <a href="/2015/11/22/Differences-in-Linux-Kernels-for-Device-Driver-Development/" class="archive-article-date">
  	<time datetime="2015-11-22T01:59:02.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2015-11-22</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ioctl-and-unlocked-ioctl"><a href="#ioctl-and-unlocked-ioctl" class="headerlink" title="ioctl and unlocked_ioctl"></a>ioctl and unlocked_ioctl</h2><p>从 2.6.36 版本的内核开始，file_operations 结构体弃用了原来的 ioctl 成员，改用了新的名为 unlocked_ioctl 成员，该成员指向的函数删除了之前函数的第一个参数 inode，所以为了使设备驱动适应多个不同的内核版本，就需要在代码中对内核版本进行判断，进而采用不同的函数的声明：</p>
<p>这里，我们需要包含头文件 <linux version.h="">。</linux></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2, 6, 36)</div><div class="line">    static int xxx_ioctl(struct inode *inode, struct file *filp, unsigned int cmd</div><div class="line">, unsigned long *arg);</div><div class="line">#else</div><div class="line">    static int xxx_ioctl(struct file *filp, unsigned int cmd, unsigned long *arg);</div><div class="line">#endif</div></pre></td></tr></table></figure>
<p>注意：在函数定义的时候也需要用上面的判断来写函数头。</p>
<p>同样：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct</span> file_operations xxx_fops = </div><div class="line">&#123;</div><div class="line">    ......</div><div class="line">    #<span class="keyword">if</span> LINUX_VERSION_CODE &lt; KERNEL_VERSION(<span class="number">2</span>, <span class="number">6</span>, <span class="number">36</span>)</div><div class="line">    .ioctl = xxx_ioctl,</div><div class="line">    #<span class="keyword">else</span></div><div class="line">    .unlocked_ioctl = xxx_ioctl,</div><div class="line">    #endif</div><div class="line">    ......</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="init-MUTEX-LOCKED-and-sema-init"><a href="#init-MUTEX-LOCKED-and-sema-init" class="headerlink" title="init_MUTEX_LOCKED and sema_init"></a>init_MUTEX_LOCKED and sema_init</h2><p>从 2.6.37 版本的内核开始，init_MUTEX_LOCKED 宏遭到了弃用，我们只能使用 sema_init 来对锁进行操作，具体代码如下：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">struct semaphore sem;</div><div class="line">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2, 6, 37)</div><div class="line">    init_MUTEX_LOCKED(&amp;sem);</div><div class="line">#else</div><div class="line">    sema_init(&amp;sem, 0);</div><div class="line">#endif</div></pre></td></tr></table></figure>
<h2 id="smp-lock-h-and-hardirq-h"><a href="#smp-lock-h-and-hardirq-h" class="headerlink" title="smp_lock.h and hardirq.h"></a>smp_lock.h and hardirq.h</h2><p>从 2.6.39 版本的内核开始，内核不再包含 smp_lock.h，取而代之的是 hardirq.h。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2, 6, 39)</div><div class="line">    #include &lt;linux/smp_lock.h&gt;</div><div class="line">#else</div><div class="line">    #include &lt;linux/hardirq.h&gt;</div><div class="line">#endif</div></pre></td></tr></table></figure>
<h2 id="asm-system-h-文件"><a href="#asm-system-h-文件" class="headerlink" title="asm/system.h 文件"></a>asm/system.h 文件</h2><p>从 3.4 版本开始，内核不再提供 asm/system.h 文件。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Techniques/" class="article-tag-list-link color1">Techniques</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2015/11/22/Differences-in-Linux-Kernels-for-Device-Driver-Development/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-Qt" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/22/Qt/">Qt</a>
    </h1>
  

        
        <a href="/2015/11/22/Qt/" class="archive-article-date">
  	<time datetime="2015-11-22T01:50:23.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2015-11-22</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="在-Qt5-上运行-Qt4-项目"><a href="#在-Qt5-上运行-Qt4-项目" class="headerlink" title="在 Qt5 上运行 Qt4 项目"></a>在 Qt5 上运行 Qt4 项目</h2><ol>
<li><p>在 pro 文件里，添加 widgets</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">QT += core gui widgets</div></pre></td></tr></table></figure>
</li>
<li><p>在所有指定文件中，将 #include <qtgui qapplication=""> 改为 #include <qapplication></qapplication></qtgui></p>
</li>
</ol>
<h2 id="在-Ubuntu14-04-上安装和卸载-Qt5-4-1"><a href="#在-Ubuntu14-04-上安装和卸载-Qt5-4-1" class="headerlink" title="在 Ubuntu14.04 上安装和卸载 Qt5.4.1"></a>在 Ubuntu14.04 上安装和卸载 Qt5.4.1</h2><p>需要安装额外组件一下组件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install libgl1-mesa-dev g++</div></pre></td></tr></table></figure>
<p>然后设置环境变量，假设 Qt 安装在 /opt/Qt5.4.1 目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 将下面内容写入 ~/.bash_profile 中，如果没有该文件，请自行创建或通过 /etc/skel 进行创建</span></div><div class="line"><span class="built_in">export</span> PATH=/opt/Qt5.4.1/Tools/QtCreator/bin:<span class="variable">$PATH</span></div><div class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=/opt/Qt5.4.1/lib/qtcreator:<span class="variable">$LD_LIBRARY_PATH</span></div></pre></td></tr></table></figure>
<p>保存之后如果想要立即生效，请执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">source</span> ~/.bash_profile</div></pre></td></tr></table></figure>
<p>正常打开 QtCreator 后，在配置选项里面的编译器标签页，指定系统编译器位置为 /usr/bin/gcc。</p>
<p>卸载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> /opt/Qt5.4.1</div><div class="line">$ sudo ./MaintainanceTool</div></pre></td></tr></table></figure>
<h2 id="Qt-的-Slots-和-Signals"><a href="#Qt-的-Slots-和-Signals" class="headerlink" title="Qt 的 Slots 和 Signals"></a>Qt 的 Slots 和 Signals</h2><p>Slot 相当于处理函数，Signal 相当于事件。<br>如果想要通过Signal向Slot函数传递参数，则必须遵循如下原则，即：Signal 的参数列表中参数的数量一定不能比 Slot 的参数列表中参数的数量少。</p>
<h2 id="UnicodeUTF8"><a href="#UnicodeUTF8" class="headerlink" title="UnicodeUTF8"></a>UnicodeUTF8</h2><p>如果编译时提示没有 QApplication 没有 UnicodeUTF8 成员，则直接将该成员从函数中删除即可。</p>
<h2 id="int-转-QString"><a href="#int-转-QString" class="headerlink" title="int 转 QString"></a>int 转 QString</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">QString s;</div><div class="line">s = QString::number(<span class="number">123</span>, <span class="number">10</span>);</div></pre></td></tr></table></figure>
<h2 id="QString-转-int"><a href="#QString-转-int" class="headerlink" title="QString 转 int"></a>QString 转 int</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">QString str=<span class="string">"stringtoint"</span>;</div><div class="line"><span class="keyword">bool</span> ok;</div><div class="line"><span class="keyword">int</span> dec = str.toInt(&amp;ok, <span class="number">10</span>); <span class="comment">//转十进制</span></div></pre></td></tr></table></figure>
<h2 id="输出一组整形数据"><a href="#输出一组整形数据" class="headerlink" title="输出一组整形数据"></a>输出一组整形数据</h2><p>有 1～10 十个数据，想要将其以空格分隔，然后在文本框中输出。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">QStringList data;</div><div class="line"><span class="keyword">int</span> i;</div><div class="line"><span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</div><div class="line">    data &lt;&lt; QString::number(i, <span class="number">10</span>);</div><div class="line">&#125;</div><div class="line">ui-&gt;lineEdit-&gt;setText(data.join(<span class="string">' '</span>));</div></pre></td></tr></table></figure>
<h2 id="延时-1-秒钟"><a href="#延时-1-秒钟" class="headerlink" title="延时 1 秒钟"></a>延时 1 秒钟</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QTimer&gt;</span></span></div><div class="line"></div><div class="line">QEventLoop loop;</div><div class="line">QTimer::singleShot(<span class="number">1000</span>, &amp;loop, SLOT(quit()));</div><div class="line">loop.exec();</div></pre></td></tr></table></figure>
<h2 id="Qt5-4-1-静态编译"><a href="#Qt5-4-1-静态编译" class="headerlink" title="Qt5.4.1 静态编译"></a>Qt5.4.1 静态编译</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ tar zxf qt-everywhere-opensource-src-5.4.1.tar.gz</div><div class="line">$ <span class="built_in">cd</span> qt-everywhere-opensource-src-5.4.1</div><div class="line">$ ./configure -debug-and-release -static -nomake examples -no-compile-examples -opengl desktop -openvg -openssl-linked -qt-zlib -qt-libpng -qt-libjpeg -qt-sql-sqlite -qt-xcb</div><div class="line">$ make; sudo make install</div></pre></td></tr></table></figure>
<h2 id="添加图片"><a href="#添加图片" class="headerlink" title="添加图片"></a>添加图片</h2><p>工程文件夹右键选择 Add New…，然后选择 Qt -&gt; Qt Resource File -&gt; Choose，然后为资源指定一个文件名，如 Test，之后新建的文件会被添加在工程里面的 Resources 目录下，名为 Test.qrc。</p>
<p>选择 Test.qrc，右边选择 Add-&gt;Add Prefix，在 Prefix 里面键入 /images（注意斜杠），然后再点击 Add-&gt;Add File，就能在工程里面添加图片了。</p>
<p>如果添加了名为 pic.png 的图片文件，那么如何在代码中使用呢？</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function">QPixmap <span class="title">pic</span><span class="params">(<span class="string">":/images/pic.png"</span>)</span></span>;</div><div class="line">ui-&gt;someLabel-&gt;setPixmap(pic);</div></pre></td></tr></table></figure>
<h2 id="在-Windows-下为应用程序添加图标"><a href="#在-Windows-下为应用程序添加图标" class="headerlink" title="在 Windows 下为应用程序添加图标"></a>在 Windows 下为应用程序添加图标</h2><p>按上面的方法添加制作好的 ico 文件，然后按照 Windows 应用程序资源文件的规则添加图标文件，假定文件名为 res.rc，图标文件名为 icon.ico：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"winver.h"</span></span></div><div class="line"></div><div class="line">IDI_ICON1 ICON DISCARDABLE <span class="string">"icon.ico"</span></div><div class="line"></div><div class="line"><span class="number">1</span> VERSIONINFO</div><div class="line">    FILEVERSION <span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></div><div class="line">    PRODUCTVERSION <span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></div><div class="line">    FILEFLAGSMASK <span class="number">0x3f</span>L</div><div class="line">    FILEFLAGS <span class="number">0x0</span>L</div><div class="line">    FILEOS VOS_NT_WINDOWS32</div><div class="line">    FILETYPE VFT_APP</div><div class="line">    BEGIN</div><div class="line">        BLOCK <span class="string">"StringFileInfo"</span></div><div class="line">        BEGIN</div><div class="line">            BLOCK <span class="string">"000004b0"</span></div><div class="line">            BEGIN</div><div class="line">                VALUE <span class="string">"CompanyName"</span>, <span class="string">"xxx Technology Co.,Ltd."</span></div><div class="line">                VALUE <span class="string">"FileDescription"</span>, <span class="string">"Serial Board Demo"</span></div><div class="line">                VALUE <span class="string">"FileVersion"</span>, <span class="string">"1.0.0.0"</span></div><div class="line">                VALUE <span class="string">"LegalCopyright"</span>, <span class="string">"Copyright (c) 2011-2015 xxx Technology Co.,Ltd."</span></div><div class="line">                VALUE <span class="string">"InternalName"</span>, <span class="string">"1234"</span></div><div class="line">                VALUE <span class="string">"ProductName"</span>, <span class="string">"Serial Board"</span></div><div class="line">                VALUE <span class="string">"ProductVersion"</span>, <span class="string">"1.0.0.0"</span></div><div class="line">            END</div><div class="line">        END</div><div class="line"></div><div class="line">        BLOCK <span class="string">"VarFileInfo"</span></div><div class="line">        BEGIN</div><div class="line">            VALUE <span class="string">"Translation"</span>, <span class="number">0x0</span>, <span class="number">1200</span></div><div class="line">        END</div><div class="line">    END</div></pre></td></tr></table></figure>
<p>最后，将该文件添加到 Qt 工程的 pro 文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">RC_FILE = res.rc</div></pre></td></tr></table></figure>
<h2 id="遍历串口设备"><a href="#遍历串口设备" class="headerlink" title="遍历串口设备"></a>遍历串口设备</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QSerialPort/QSerialPortInfo&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QDebug&gt;</span></span></div><div class="line"></div><div class="line">QList&lt;QSerialPortInfo&gt; serialPortInfoList = QSerialPortInfo::availablePorts();</div><div class="line"></div><div class="line">foreach (<span class="keyword">const</span> QSerialPortInfo &amp;serialPortInfo, serialPortInfoList) &#123;</div><div class="line">    qDebug() &lt;&lt; serialPortInfo.portName();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="监听串口数据"><a href="#监听串口数据" class="headerlink" title="监听串口数据"></a>监听串口数据</h2><p>在 Qt 下，不需要采取多线程来分别处理串口的发送和接收，只需要建立串口数据准备好的信号（Qt 提供），和处理串口收上来的数据的函数（用户编写）的连接即可。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">connect(port, SIGNAL(readyRead()), <span class="keyword">this</span>, SLOT(userFunc()));</div></pre></td></tr></table></figure>
<h2 id="子对话框"><a href="#子对话框" class="headerlink" title="子对话框"></a>子对话框</h2><h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><ol>
<li>创建新的 ui 文件；</li>
<li>在父类中创建子类的对象；</li>
<li>建立父类和子类的数据连接（singal slot）；</li>
<li>执行子类对象的 exec() 方法；</li>
</ol>
<h3 id="返回"><a href="#返回" class="headerlink" title="返回"></a>返回</h3><ol>
<li>子类 emit 返回父类的信号；</li>
<li>子类之行 QDialog::accept() 方法销毁窗口；</li>
</ol>
<h2 id="更新-textEdit-文字指针位置为可见"><a href="#更新-textEdit-文字指针位置为可见" class="headerlink" title="更新 textEdit 文字指针位置为可见"></a>更新 textEdit 文字指针位置为可见</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">connect(textEdit, SIGNAL(cursorPositionChanged()), <span class="keyword">this</span>, SLOT(updateVisibleArea()));</div></pre></td></tr></table></figure>
<h2 id="为-Qt4-8-5-添加-Qwt-支持"><a href="#为-Qt4-8-5-添加-Qwt-支持" class="headerlink" title="为 Qt4.8.5 添加 Qwt 支持"></a>为 Qt4.8.5 添加 Qwt 支持</h2><p>Qwt 支持 5.4.1 和 4.8.5，但目前尚未找到方法能在 5.4.1 自带的 QtCreator 下显示 Qwt 控件，而且Qwt本身使用起来相对复杂，如果只是画图形的话，建议使用下面的 QcustomPlot 控件。</p>
<h2 id="为-Qt-添加-QtCustomPlot-支持"><a href="#为-Qt-添加-QtCustomPlot-支持" class="headerlink" title="为 Qt 添加 QtCustomPlot 支持"></a>为 Qt 添加 QtCustomPlot 支持</h2><p>从网站下载QtCustomPlot源码，解压后将 qtcustomplot.h 和 qtcustomplot.cpp 添加到工程目录下即可。</p>
<h2 id="如何使用-Linux-系统调用"><a href="#如何使用-Linux-系统调用" class="headerlink" title="如何使用 Linux 系统调用"></a>如何使用 Linux 系统调用</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></div><div class="line">::open(...)</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Techniques/" class="article-tag-list-link color1">Techniques</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2015/11/22/Qt/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-Windows-Batch-Programming-Summary" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/22/Windows-Batch-Programming-Summary/">批处理小结</a>
    </h1>
  

        
        <a href="/2015/11/22/Windows-Batch-Programming-Summary/" class="archive-article-date">
  	<time datetime="2015-11-22T01:42:09.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2015-11-22</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="基本"><a href="#基本" class="headerlink" title="基本"></a>基本</h2><ol>
<li>第一行 @echo off 可以禁止输出命令本身</li>
<li>copy 1.txt c:\ &gt;nul 可以禁止输出结果</li>
<li>用双冒号 :: 注释</li>
<li>shutdown -a 用于取消强制的关机和重启命令</li>
<li>ping -n x 127.1&gt;nul 用于延时 x 秒</li>
<li>taskkill /f /im xxx.exe 用于强制关闭当前所有名称为 xxx.exe 的进程</li>
</ol>
<h2 id="执行-xxx-bat-时不显示窗口的方法"><a href="#执行-xxx-bat-时不显示窗口的方法" class="headerlink" title="执行 xxx.bat 时不显示窗口的方法"></a>执行 xxx.bat 时不显示窗口的方法</h2><p>新建 vbs 文件，输入以下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Set WshShell = CreateObject(&quot;WScript.Shell&quot;)</div><div class="line">WshShell.Run chr(34) &amp; &quot;xxx.bat&quot; &amp; Chr(34), 0</div><div class="line">Set WshShell = Nothing</div></pre></td></tr></table></figure>
<h2 id="按任意键才能关闭窗口的方法"><a href="#按任意键才能关闭窗口的方法" class="headerlink" title="按任意键才能关闭窗口的方法"></a>按任意键才能关闭窗口的方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">echo Press Any Key to Continue</div><div class="line">pause&gt;nul</div><div class="line">exit</div></pre></td></tr></table></figure>
<h2 id="批处理文件执行出现乱码的解决方法"><a href="#批处理文件执行出现乱码的解决方法" class="headerlink" title="批处理文件执行出现乱码的解决方法"></a>批处理文件执行出现乱码的解决方法</h2><p>如果文件中包含中文，则一定要将文件用记事本按 ANSI 格式保存，如果按 UTF-8 进行保存，在执行文件的时候原本中文就会显示为乱码。</p>
<h2 id="等待进程启动"><a href="#等待进程启动" class="headerlink" title="等待进程启动"></a>等待进程启动</h2><p>下面的代码用来检查某个名为 xxx.exe 的进程是否存在，如果不存在则等待到存在为止。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">:loop</div><div class="line">tasklist /FI &quot;IMAGENAME eq xxx.exe&quot; 2&gt;nul | find /I /N &quot;xxx.exe&quot;&gt;nul</div><div class="line">if %ERRORLEVEL% == 1 goto loop</div></pre></td></tr></table></figure>
<h2 id="读取写入文件"><a href="#读取写入文件" class="headerlink" title="读取写入文件"></a>读取写入文件</h2><p>假定有文件 test.txt 其内容为 1，我们将其改为 2，然后保存。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">set local EnableDelayedExpension</div><div class="line">set /p old=&lt; test.txt</div><div class="line">set /a new = %old% + 1</div><div class="line">echo %new% &gt; test.txt</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Techniques/" class="article-tag-list-link color1">Techniques</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2015/11/22/Windows-Batch-Programming-Summary/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-Proftpd" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/21/Proftpd/">Proftpd</a>
    </h1>
  

        
        <a href="/2015/11/21/Proftpd/" class="archive-article-date">
  	<time datetime="2015-11-21T14:26:58.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2015-11-21</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install proftpd</div><div class="line"><span class="comment"># choose standalone mode</span></div></pre></td></tr></table></figure>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">$ sudo vim /etc/proftpd/proftpd.conf</div><div class="line"></div><div class="line">1. change ServerName to your specified name</div><div class="line">2. uncomment DefaultRoot ~ to jail all users to their homes</div><div class="line"><span class="comment"># following is an example, we want /ftp_pool/pub to be the home directory of the ftp server.</span></div><div class="line"><span class="comment"># so you should ensure that the permission of the /ftp_pool/pub is 777.</span></div><div class="line">&lt;Anonymous /ftp_pool/pub&gt;</div><div class="line">   User                     ftp</div><div class="line">   Group                    ftp</div><div class="line">   <span class="comment"># We want clients to be able to login with "anonymous" as well as "ftp"</span></div><div class="line">   UserAlias                anonymous ftp</div><div class="line">   <span class="comment"># Cosmetic changes, all files belongs to ftp user</span></div><div class="line">   DirFakeUser  on ftp</div><div class="line">   DirFakeGroup on ftp</div><div class="line">   RequireValidShell        off</div><div class="line">   <span class="comment"># Limit the maximum number of anonymous logins</span></div><div class="line">   MaxClients               10</div><div class="line">   <span class="comment"># We want 'welcome.msg' displayed at login, and '.message' displayed</span></div><div class="line">   <span class="comment"># in each newly chdired directory.</span></div><div class="line">   DisplayLogin             welcome.msg</div><div class="line">   DisplayChdir             .message</div><div class="line">   <span class="comment"># Limit WRITE everywhere in the anonymous chroot</span></div><div class="line">   &lt;Directory *&gt;</div><div class="line">     &lt;Limit WRITE&gt;</div><div class="line">        AllowAll <span class="comment"># currently, all users can download and upload anything.</span></div><div class="line">     &lt;/Limit&gt;</div><div class="line">   &lt;/Directory&gt;</div><div class="line">&lt;/anonymous&gt;</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Techniques/" class="article-tag-list-link color1">Techniques</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2015/11/21/Proftpd/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-Things-Need-to-Know-about-Git" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/21/Things-Need-to-Know-about-Git/">Git</a>
    </h1>
  

        
        <a href="/2015/11/21/Things-Need-to-Know-about-Git/" class="archive-article-date">
  	<time datetime="2015-11-21T14:22:53.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2015-11-21</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Git 是基于分支概念的</p>
<p><strong>所有的版本控制系统，都只能跟踪文本文件（也就是说，不能是）的内容变化，像图片，视频，word 文档这些二进制文件，版本控制系统只能记录下文件大小的变化，不能跟踪内容。</strong></p>
<h2 id="版本回退后的撤销"><a href="#版本回退后的撤销" class="headerlink" title="版本回退后的撤销"></a>版本回退后的撤销</h2><p><strong>要点</strong></p>
<p>要有 commit_id 就能回到对应的版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git reflog</div></pre></td></tr></table></figure>
<h2 id="标签的使用"><a href="#标签的使用" class="headerlink" title="标签的使用"></a>标签的使用</h2><p>标签的作用，即为某个我们认为具有特殊意义的提交创建一个别名指针（如：v1.0），这样，该提交就可以很方便的被我们定位，而不需要记住它的 commit_id（如：efa123f）试想一下，那会有多难。</p>
<h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">为最新的提交打标签</div><div class="line">$ git tag v1.0</div><div class="line"></div><div class="line">为指定提交打标签</div><div class="line">$ git tag v1.0 &lt;commit_id&gt;</div><div class="line"></div><div class="line">打标签并附带说明文字</div><div class="line">$ git tag <span class="_">-a</span> v1.0 -m <span class="string">"descriptions"</span></div><div class="line"></div><div class="line">附加 GPG 私钥签名（需要安装 GPG）</div><div class="line">$ git tag <span class="_">-s</span> v1.0 &lt;commit_id&gt;</div><div class="line"></div><div class="line">将指定标签推送到远程仓库</div><div class="line">$ git push origin v1.0</div><div class="line"></div><div class="line">(上方对比分支推送)</div><div class="line">($ git push -u origin master)</div><div class="line"></div><div class="line">将所有标签推送到远程仓库</div><div class="line">$ git push origin -- tags</div></pre></td></tr></table></figure>
<h3 id="显示"><a href="#显示" class="headerlink" title="显示"></a>显示</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">显示左右标签，按字母顺序排序</div><div class="line">$ git tag</div><div class="line"></div><div class="line">显示标签详情</div><div class="line">$ git show v1.0</div></pre></td></tr></table></figure>
<h3 id="删除指定标签"><a href="#删除指定标签" class="headerlink" title="删除指定标签"></a>删除指定标签</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">在没推送到远程仓库的情况下删除</div><div class="line">$ git tag <span class="_">-d</span> v1.0</div><div class="line"></div><div class="line">同时删除本地和远程仓库标签</div><div class="line">$ git tag <span class="_">-d</span> v1.0</div><div class="line">$ git push origin :refs/tags/v1.0</div></pre></td></tr></table></figure>
<h2 id="让-git-status-支持中文字符"><a href="#让-git-status-支持中文字符" class="headerlink" title="让 git status 支持中文字符"></a>让 git status 支持中文字符</h2><p>如果使用 UTF-8 字符集</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git config --global core.quotepath <span class="literal">false</span></div></pre></td></tr></table></figure>
<p>如果使用 GBK 字符集</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git config --global i18n.logOutputEncoding gbk</div><div class="line">git config --global i18n.commitEncoding gbk</div></pre></td></tr></table></figure>
<h2 id="git-diff-对象解读"><a href="#git-diff-对象解读" class="headerlink" title="git diff 对象解读"></a>git diff 对象解读</h2><ol>
<li><p>100644 表示普通文件</p>
</li>
<li><p>100755 表示可执行文件</p>
</li>
<li><p>120000 表示符号链接</p>
</li>
</ol>
<h2 id="Submodule"><a href="#Submodule" class="headerlink" title="Submodule"></a>Submodule</h2><h3 id="在当前工程中添加-Submodule"><a href="#在当前工程中添加-Submodule" class="headerlink" title="在当前工程中添加 Submodule"></a>在当前工程中添加 Submodule</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git submodule add https://github.com/xxx/xyz.git xyz</div><div class="line">$ git add xyz .gitmodules</div><div class="line">$ git commit -m <span class="string">'add submodule xzy'</span></div><div class="line">$ git push origin master</div></pre></td></tr></table></figure>
<h3 id="Clone-一个带有-Submodule-的工程"><a href="#Clone-一个带有-Submodule-的工程" class="headerlink" title="Clone 一个带有 Submodule 的工程"></a>Clone 一个带有 Submodule 的工程</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> https://github.com/yyy/abc.git; <span class="built_in">cd</span> abc</div><div class="line"><span class="comment"># 这时候可以看到 abc 目录中有 xyz 子目录，但是这个子目录是空的，我们需要手动进行 Submodule 初始化来获取内容</span></div><div class="line">$ git submodule init</div><div class="line">$ git submodule update</div></pre></td></tr></table></figure>
<h2 id="git-服务器搭建"><a href="#git-服务器搭建" class="headerlink" title="git 服务器搭建"></a>git 服务器搭建</h2><p>服务器端的配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># make sure that the git's ssh permission is correct.</span></div><div class="line">git@xxx$ chmod 700 /home/git/.ssh</div><div class="line">git@xxx$ chown git:git /home/git/.ssh</div><div class="line">git@xxx$ chmod 644 /home/git/.ssh/authorized_keys</div><div class="line">git@xxx$ chown git:git /home/git/.ssh/authorized_keys</div><div class="line"></div><div class="line"><span class="comment"># 安装必要组件</span></div><div class="line">$ sudo apt-get install python-setuptools</div><div class="line"></div><div class="line"><span class="comment"># 添加新用户 git</span></div><div class="line">$ sudo useradd -m git</div><div class="line">$ sudo groupadd git</div><div class="line">$ sudo passwd git</div><div class="line"></div><div class="line"><span class="comment"># 安装 gitosis</span></div><div class="line">$ <span class="built_in">cd</span> /home/git/</div><div class="line">$ git <span class="built_in">clone</span> https://github.com/tv42/gitosis.git</div><div class="line">$ <span class="built_in">cd</span> gitosis</div><div class="line">$ sudo python setup.py install</div><div class="line"></div><div class="line"><span class="comment"># 将 gitosis 管理员的公钥导入并进行 gitosis 初始化</span></div><div class="line">$ sudo -H -u git gitosis-init &lt; /path/to/id_rsa.pub</div><div class="line">$ sudo chmod 755 /home/git/repositories/gitosis-admin.git/hooks/post-update</div><div class="line"></div><div class="line"><span class="comment"># 新建 git 仓库并初始化</span></div><div class="line">$ mkdir ~/repositories/testproj.git</div><div class="line">$ <span class="built_in">cd</span> ~/repositoreis/testproj.git</div><div class="line">$ git init --bare</div></pre></td></tr></table></figure>
<p>如果想要重新创建管理员，只需要将 repositories 下的 gitosis-admin.git 删除，之后重新执行初始化即可。</p>
<p>客户端配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 配置 gitosis</span></div><div class="line">$ git <span class="built_in">clone</span> git@&lt;server-ip&gt;:gitosis-admin.git</div><div class="line">$ <span class="built_in">cd</span> gitosis-admin</div><div class="line"></div><div class="line"><span class="comment"># copy other members' id_rsa.pub files into keydir</span></div><div class="line">$ vim gitosis.conf</div><div class="line"></div><div class="line"><span class="comment"># add the following, and save</span></div><div class="line"><span class="comment"># &lt;member1&gt;@&lt;server1&gt; and &lt;member2&gt;@&lt;server2&gt; are not the gitosis admin</span></div><div class="line">[group developers]</div><div class="line">members = &lt;member1&gt;@&lt;server1&gt; &lt;member2&gt;@&lt;server2&gt;</div><div class="line">writable = testproj</div><div class="line"></div><div class="line">[repo testproj]</div><div class="line">description = repo <span class="keyword">for</span> testproj</div><div class="line"></div><div class="line"><span class="comment"># copy the &lt;member1&gt;@&lt;server1&gt;.pub and &lt;member2&gt;@&lt;server2&gt;.pub to the keydir/ directory</span></div><div class="line"></div><div class="line"><span class="comment"># commit and push</span></div><div class="line">$ git add gitosis.conf keydir/*</div><div class="line">$ git commit -m <span class="string">'add &lt;member1&gt; and &lt;member2&gt;'</span></div><div class="line">$ git push origin master</div><div class="line"></div><div class="line"><span class="comment"># 创建 testproj 工程</span></div><div class="line">$ <span class="built_in">cd</span></div><div class="line">$ mkdir testproj</div><div class="line">$ <span class="built_in">cd</span> testproj</div><div class="line">$ git init</div><div class="line"></div><div class="line"><span class="comment"># add anything you want, e.g. test.c</span></div><div class="line"></div><div class="line"><span class="comment"># 提交到远程仓库</span></div><div class="line">$ git add test.c</div><div class="line">$ git commit -m <span class="string">'initial commit for test.c'</span></div><div class="line">$ git remote add origin git@&lt;server-ip&gt;:testproj.git</div><div class="line">$ git push origin master</div><div class="line"></div><div class="line"><span class="comment"># COMMENT: you don't need to manually add ssh public key to the</span></div><div class="line"><span class="comment"># /home/git/.ssh/authorized_keys file, gitosis-admin does this for you!!!</span></div></pre></td></tr></table></figure>
<h2 id="gitweb"><a href="#gitweb" class="headerlink" title="gitweb"></a>gitweb</h2><p>gitweb 是基于浏览器的图形化 git 管理工具。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install gitweb</div><div class="line">sudo ln <span class="_">-s</span> /user/share/gitweb/ /path/to/htdocs/</div><div class="line">sudo vim /etc/gitweb.conf</div><div class="line"></div><div class="line"><span class="comment"># 将 $projectroot 改为工程所在目录</span></div><div class="line"><span class="comment"># 如工程路径为：/path/to/repositories/xxx.git，则 $projectroot 改为 /path/to/repositories</span></div><div class="line"></div><div class="line"><span class="comment"># 另外，可以修改 xxx.git 目录下的 description 文件，添加一行工程描述</span></div><div class="line"><span class="comment"># 还可以新建 cloneurl 文件，添加一行工程的 clone 地址</span></div></pre></td></tr></table></figure>
<p>注意：gitweb 默认的页面是 index.cgi，但是 Apache 的 httpd.conf 文件中的 DirectoryIndex 是以 index.html 为起始顺序寻找的，所以我们需要更改一下原来的查找方式，让我们默认就能打开 index.cgi。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 在 gitweb 目录下添加 index.html</span></div><div class="line">&lt;meta http-equiv=<span class="string">"refresh"</span> content=<span class="string">"0; url=index.cgi"</span>&gt;</div></pre></td></tr></table></figure>
<h2 id="让-git-status-支持中文字符-1"><a href="#让-git-status-支持中文字符-1" class="headerlink" title="让 git status 支持中文字符"></a>让 git status 支持中文字符</h2><p>如果使用 UTF-8 字符集</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git config --global core.quotepath <span class="literal">false</span></div></pre></td></tr></table></figure>
<p>如果使用 GBK 字符集</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git config --global i18n.logOutputEncoding gbk</div><div class="line">git config --global i18n.commitEncoding gbk</div></pre></td></tr></table></figure>
<h2 id="github"><a href="#github" class="headerlink" title="github"></a>github</h2><p>如果想要在 github 上用 ssh 进行免密码提交，在设置完 ssh key 之后，进行如下测试：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh -vT git@github.com</div></pre></td></tr></table></figure>
<p>如果检测没有问题，下面假设现在有一个工程，叫 test，那么需要添加 remote 才能正常提交，但是这个 remote 的写法有点特别：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git remote add origin git@github.com:&lt;username&gt;/test.git</div></pre></td></tr></table></figure>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Techniques/" class="article-tag-list-link color1">Techniques</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2015/11/21/Things-Need-to-Know-about-Git/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 Michael Wu
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true,
		showTags: false
	}
</script>

<script>!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="./",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){var e=/\/|index.html/g;return t.replace(e,"")===n.replace(e,"")}function i(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,e=0,r=t.length;e<r;e++){var i=t[e];o(n,i.getAttribute("href"))&&(0,d.default)(i,"active")}}function u(t){for(var n=t.offsetLeft,e=t.offsetParent;null!==e;)n+=e.offsetLeft,e=e.offsetParent;return n}function f(t){for(var n=t.offsetTop,e=t.offsetParent;null!==e;)n+=e.offsetTop,e=e.offsetParent;return n}function c(t,n,e,r,o){var i=u(t),c=f(t)-n;if(c-e<=o){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,h.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(e||c)+"px",a.style.left=i+"px",a.style.zIndex=r||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");c(t,document.body.scrollTop,-63,2,0),c(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}function l(){x.default.versions.mobile&&window.screen.width<800&&(i(),s())}var p=e(71),d=r(p),v=e(72),y=(r(v),e(84)),h=r(y),b=e(69),x=r(b),m=e(75),g=r(m),w=e(70);l(),(0,w.addLoadEvent)(function(){g.default.init()}),t.exports={}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var r=e(49),o=e(15);t.exports=function(t){return r(o(t))}},function(t,n,e){t.exports=!e(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,e){var r=e(6),o=e(12);t.exports=e(4)?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(10),o=e(30),i=e(24),u=Object.defineProperty;n.f=e(4)?Object.defineProperty:function(t,n,e){if(r(t),n=i(n,!0),r(e),o)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(22)("wks"),o=e(13),i=e(1).Symbol,u="function"==typeof i,f=t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))};f.store=r},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var r=e(35),o=e(16);t.exports=Object.keys||function(t){return r(t,o)}},function(t,n,e){var r=e(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(6).f,o=e(2),i=e(7)("toStringTag");t.exports=function(t,n,e){t&&!o(t=e?t:t.prototype,i)&&r(t,i,{configurable:!0,value:n})}},function(t,n,e){var r=e(22)("keys"),o=e(13);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,n,e){var r=e(1),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(11);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var r=e(1),o=e(14),i=e(18),u=e(26),f=e(6).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||f(n,t,{value:u.f(t)})}},function(t,n,e){n.f=e(7)},function(t,n,e){var r=e(1),o=e(14),i=e(46),u=e(5),f="prototype",c=function(t,n,e){var a,s,l,p=t&c.F,d=t&c.G,v=t&c.S,y=t&c.P,h=t&c.B,b=t&c.W,x=d?o:o[n]||(o[n]={}),m=x[f],g=d?r:v?r[n]:(r[n]||{})[f];d&&(e=n);for(a in e)s=!p&&g&&void 0!==g[a],s&&a in x||(l=s?g[a]:e[a],x[a]=d&&"function"!=typeof g[a]?e[a]:h&&s?i(l,r):b&&g[a]==l?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n[f]=t[f],n}(l):y&&"function"==typeof l?i(Function.call,l):l,y&&((x.virtual||(x.virtual={}))[a]=l,t&c.R&&m&&!m[a]&&u(m,a,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var r=e(11),o=e(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,e){t.exports=!e(4)&&!e(8)(function(){return 7!=Object.defineProperty(e(29)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){"use strict";var r=e(18),o=e(27),i=e(36),u=e(5),f=e(2),c=e(17),a=e(51),s=e(20),l=e(58),p=e(7)("iterator"),d=!([].keys&&"next"in[].keys()),v="@@iterator",y="keys",h="values",b=function(){return this};t.exports=function(t,n,e,x,m,g,w){a(e,n,x);var O,S,_,j=function(t){if(!d&&t in A)return A[t];switch(t){case y:return function(){return new e(this,t)};case h:return function(){return new e(this,t)}}return function(){return new e(this,t)}},P=n+" Iterator",E=m==h,M=!1,A=t.prototype,T=A[p]||A[v]||m&&A[m],L=T||j(m),N=m?E?j("entries"):L:void 0,C="Array"==n?A.entries||T:T;if(C&&(_=l(C.call(new t)),_!==Object.prototype&&(s(_,P,!0),r||f(_,p)||u(_,p,b))),E&&T&&T.name!==h&&(M=!0,L=function(){return T.call(this)}),r&&!w||!d&&!M&&A[p]||u(A,p,L),c[n]=L,c[P]=b,m)if(O={values:E?L:j(h),keys:g?L:j(y),entries:N},w)for(S in O)S in A||i(A,S,O[S]);else o(o.P+o.F*(d||M),n,O);return O}},function(t,n,e){var r=e(10),o=e(55),i=e(16),u=e(21)("IE_PROTO"),f=function(){},c="prototype",a=function(){var t,n=e(29)("iframe"),r=i.length,o="<",u=">";for(n.style.display="none",e(48).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+u+"document.F=Object"+o+"/script"+u),t.close(),a=t.F;r--;)delete a[c][i[r]];return a()};t.exports=Object.create||function(t,n){var e;return null!==t?(f[c]=r(t),e=new f,f[c]=null,e[u]=t):e=a(),void 0===n?e:o(e,n)}},function(t,n,e){var r=e(35),o=e(16).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(2),o=e(3),i=e(45)(!1),u=e(21)("IE_PROTO");t.exports=function(t,n){var e,f=o(t),c=0,a=[];for(e in f)e!=u&&r(f,e)&&a.push(e);for(;n.length>c;)r(f,e=n[c++])&&(~i(a,e)||a.push(e));return a}},function(t,n,e){t.exports=e(5)},function(t,n,e){var r=e(15);t.exports=function(t){return Object(r(t))}},function(t,n,e){t.exports={default:e(41),__esModule:!0}},function(t,n,e){t.exports={default:e(42),__esModule:!0}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(39),i=r(o),u=e(38),f=r(u),c="function"==typeof f.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":typeof t};n.default="function"==typeof f.default&&"symbol"===c(i.default)?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":"undefined"==typeof t?"undefined":c(t)}},function(t,n,e){e(65),e(63),e(66),e(67),t.exports=e(14).Symbol},function(t,n,e){e(64),e(68),t.exports=e(26).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,e){var r=e(3),o=e(61),i=e(60);t.exports=function(t){return function(n,e,u){var f,c=r(n),a=o(c.length),s=i(u,a);if(t&&e!=e){for(;a>s;)if(f=c[s++],f!=f)return!0}else for(;a>s;s++)if((t||s in c)&&c[s]===e)return t||s||0;return!t&&-1}}},function(t,n,e){var r=e(43);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var r=e(9),o=e(34),i=e(19);t.exports=function(t){var n=r(t),e=o.f;if(e)for(var u,f=e(t),c=i.f,a=0;f.length>a;)c.call(t,u=f[a++])&&n.push(u);return n}},function(t,n,e){t.exports=e(1).document&&document.documentElement},function(t,n,e){var r=e(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){var r=e(28);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){"use strict";var r=e(32),o=e(12),i=e(20),u={};e(5)(u,e(7)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(u,{next:o(1,e)}),i(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){var r=e(9),o=e(3);t.exports=function(t,n){for(var e,i=o(t),u=r(i),f=u.length,c=0;f>c;)if(i[e=u[c++]]===n)return e}},function(t,n,e){var r=e(13)("meta"),o=e(11),i=e(2),u=e(6).f,f=0,c=Object.isExtensible||function(){return!0},a=!e(8)(function(){return c(Object.preventExtensions({}))}),s=function(t){u(t,r,{value:{i:"O"+ ++f,w:{}}})},l=function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!n)return"E";s(t)}return t[r].i},p=function(t,n){if(!i(t,r)){if(!c(t))return!0;if(!n)return!1;s(t)}return t[r].w},d=function(t){return a&&v.NEED&&c(t)&&!i(t,r)&&s(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}},function(t,n,e){var r=e(6),o=e(10),i=e(9);t.exports=e(4)?Object.defineProperties:function(t,n){o(t);for(var e,u=i(n),f=u.length,c=0;f>c;)r.f(t,e=u[c++],n[e]);return t}},function(t,n,e){var r=e(19),o=e(12),i=e(3),u=e(24),f=e(2),c=e(30),a=Object.getOwnPropertyDescriptor;n.f=e(4)?a:function(t,n){if(t=i(t),n=u(n,!0),c)try{return a(t,n)}catch(t){}if(f(t,n))return o(!r.f.call(t,n),t[n])}},function(t,n,e){var r=e(3),o=e(33).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(t){try{return o(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?f(t):o(r(t))}},function(t,n,e){var r=e(2),o=e(37),i=e(21)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var r=e(23),o=e(15);t.exports=function(t){return function(n,e){var i,u,f=String(o(n)),c=r(e),a=f.length;return c<0||c>=a?t?"":void 0:(i=f.charCodeAt(c),i<55296||i>56319||c+1===a||(u=f.charCodeAt(c+1))<56320||u>57343?t?f.charAt(c):i:t?f.slice(c,c+2):(i-55296<<10)+(u-56320)+65536)}}},function(t,n,e){var r=e(23),o=Math.max,i=Math.min;t.exports=function(t,n){return t=r(t),t<0?o(t+n,0):i(t,n)}},function(t,n,e){var r=e(23),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,n,e){"use strict";var r=e(44),o=e(52),i=e(17),u=e(3);t.exports=e(31)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,o(1)):"keys"==n?o(0,e):"values"==n?o(0,t[e]):o(0,[e,t[e]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,n){},function(t,n,e){"use strict";var r=e(59)(!0);e(31)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},function(t,n,e){"use strict";var r=e(1),o=e(2),i=e(4),u=e(27),f=e(36),c=e(54).KEY,a=e(8),s=e(22),l=e(20),p=e(13),d=e(7),v=e(26),y=e(25),h=e(53),b=e(47),x=e(50),m=e(10),g=e(3),w=e(24),O=e(12),S=e(32),_=e(57),j=e(56),P=e(6),E=e(9),M=j.f,A=P.f,T=_.f,L=r.Symbol,N=r.JSON,C=N&&N.stringify,k="prototype",F=d("_hidden"),q=d("toPrimitive"),I={}.propertyIsEnumerable,B=s("symbol-registry"),D=s("symbols"),W=s("op-symbols"),H=Object[k],K="function"==typeof L,R=r.QObject,J=!R||!R[k]||!R[k].findChild,U=i&&a(function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=M(H,n);r&&delete H[n],A(t,n,e),r&&t!==H&&A(H,n,r)}:A,G=function(t){var n=D[t]=S(L[k]);return n._k=t,n},$=K&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},z=function(t,n,e){return t===H&&z(W,n,e),m(t),n=w(n,!0),m(e),o(D,n)?(e.enumerable?(o(t,F)&&t[F][n]&&(t[F][n]=!1),e=S(e,{enumerable:O(0,!1)})):(o(t,F)||A(t,F,O(1,{})),t[F][n]=!0),U(t,n,e)):A(t,n,e)},Y=function(t,n){m(t);for(var e,r=b(n=g(n)),o=0,i=r.length;i>o;)z(t,e=r[o++],n[e]);return t},Q=function(t,n){return void 0===n?S(t):Y(S(t),n)},X=function(t){var n=I.call(this,t=w(t,!0));return!(this===H&&o(D,t)&&!o(W,t))&&(!(n||!o(this,t)||!o(D,t)||o(this,F)&&this[F][t])||n)},V=function(t,n){if(t=g(t),n=w(n,!0),t!==H||!o(D,n)||o(W,n)){var e=M(t,n);return!e||!o(D,n)||o(t,F)&&t[F][n]||(e.enumerable=!0),e}},Z=function(t){for(var n,e=T(g(t)),r=[],i=0;e.length>i;)o(D,n=e[i++])||n==F||n==c||r.push(n);return r},tt=function(t){for(var n,e=t===H,r=T(e?W:g(t)),i=[],u=0;r.length>u;)!o(D,n=r[u++])||e&&!o(H,n)||i.push(D[n]);return i};K||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),n=function(e){this===H&&n.call(W,e),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),U(this,t,O(1,e))};return i&&J&&U(H,t,{configurable:!0,set:n}),G(t)},f(L[k],"toString",function(){return this._k}),j.f=V,P.f=z,e(33).f=_.f=Z,e(19).f=X,e(34).f=tt,i&&!e(18)&&f(H,"propertyIsEnumerable",X,!0),v.f=function(t){return G(d(t))}),u(u.G+u.W+u.F*!K,{Symbol:L});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)d(nt[et++]);for(var nt=E(d.store),et=0;nt.length>et;)y(nt[et++]);u(u.S+u.F*!K,"Symbol",{for:function(t){return o(B,t+="")?B[t]:B[t]=L(t)},keyFor:function(t){if($(t))return h(B,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){J=!0},useSimple:function(){J=!1}}),u(u.S+u.F*!K,"Object",{create:Q,defineProperty:z,defineProperties:Y,getOwnPropertyDescriptor:V,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),N&&u(u.S+u.F*(!K||a(function(){var t=L();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var n,e,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return n=r[1],"function"==typeof n&&(e=n),!e&&x(n)||(n=function(t,n){if(e&&(n=e.call(this,t,n)),!$(n))return n}),r[1]=n,C.apply(N,r)}}}),L[k][q]||e(5)(L[k],q,L[k].valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,n,e){e(25)("asyncIterator")},function(t,n,e){e(25)("observable")},function(t,n,e){e(62);for(var r=e(1),o=e(5),i=e(17),u=e(7)("toStringTag"),f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var a=f[c],s=r[a],l=s&&s.prototype;l&&!l[u]&&o(l,u,a),i[a]=i.Array}},function(t,n){"use strict";var e={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&t.indexOf("KHTML")==-1,mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:t.indexOf("Safari")==-1,weixin:t.indexOf("MicroMessenger")==-1}}()};t.exports=e},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=e(40),i=r(o),u=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):o[t]||t}function n(t){return l[t]}var e=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,r=/['<> "&]/g,o={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},f=/\u00a0/g,c=/<br\s*\/?>/gi,a=/\r?\n/g,s=/\s/g,l={};for(var p in o)l[o[p]]=p;return o["&apos;"]="'",l["'"]="&#39;",{encode:function(t){return t?(""+t).replace(r,n).replace(a,"<br/>").replace(s,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(c,"\n").replace(e,t).replace(f," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e+=2)n.push(String.fromCharCode("0x"+t.slice(e,e+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,e=t.length;e>n;n++)t[n]=u.encodeObject(t[n]);else if("object"==("undefined"==typeof t?"undefined":(0,i.default)(t)))for(var r in t)t[r]=u.encodeObject(t[r]);else if("string"==typeof t)return u.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=u},function(t,n){function e(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=e},function(t,n){function e(t,n){if(t.classList)t.classList.remove(n);else{var e=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(e," ")}}t.exports=e},,,function(t,n){"use strict";function e(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){var n=document.querySelectorAll(".article-entry a:not(.article-more-a)");n.forEach(function(t){t.setAttribute("target","_blank")})}var e=document.querySelector("#js-aboutme");e&&0!==e.length&&(e.innerHTML=e.innerText)}t.exports={init:e}},,,,,,,,,function(t,n){function e(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var e=t.nextSibling;return e?t.parentNode.insertBefore(n,e):t.parentNode.appendChild(n)}t.exports=e}])</script><script src="/./main.2d7529.js"></script><script>!function(){var e=function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)};e("/slider.885efe.js")}()</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 50%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
        
      
      <li style="width: 50%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于我</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、在博客根目录（注意不是yilia根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            2、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: true
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">80 后空巢老人</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>